<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.8 from src/xdocs/anttask.xml.vm at 2018-03-25 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>checkstyle &#x2013; Ant Task</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta http-equiv="Content-Language" content="en" />
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script><script type="text/javascript" src="js/anchors.js"></script><script type="text/javascript" src="js/google-analytics.js"></script><link rel="icon" href="images/favicon.png" type="image/x-icon" /><link rel="shortcut icon" href="images/favicon.ico" type="image/ico" />
  </head>
  <body class="composite">
    <div id="banner">
<a href="./" id="bannerLeft" title="Checkstyle"><img src="images/header-checkstyle-logo.png"  alt="Checkstyle"/></a>
<a href="./" id="bannerRight" title="Checkstyle"><img src="images/header-right-ruller.png"  alt="Checkstyle"/></a>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
      <div class="xright">         <span id="publishDate">Last Published: 2018-03-25</span>
        &nbsp;| <span id="projectVersion">Version: 8.8</span>
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
       <h5>About</h5>
    <ul>
  <li class="none"><a href="index.html" title="Checkstyle">Checkstyle</a>  </li>
  <li class="none"><a href="releasenotes.html" title="Release Notes">Release Notes</a>  </li>
  <li class="none"><a href="consulting.html" title="Consulting">Consulting</a>  </li>
  <li class="none"><a href="sponsoring.html" title="Sponsoring">Sponsoring</a>  </li>
    </ul>
       <h5>Documentation</h5>
    <ul>
  <li class="expanded"><a href="config.html" title="Configuration">Configuration</a>      <ul>
  <li class="none"><a href="property_types.html" title="Property Types">Property Types</a>  </li>
  <li class="none"><a href="config_filters.html" title="Filters">Filters</a>  </li>
  <li class="none"><a href="config_filefilters.html" title="File Filters">File Filters</a>  </li>
      </ul>
  </li>
  <li class="expanded"><a href="running.html" title="Running">Running</a>      <ul>
  <li class="none"><strong>Ant Task</strong>
  </li>
  <li class="none"><a href="cmdline.html" title="Command Line">Command Line</a>  </li>
      </ul>
  </li>
  <li class="expanded"><a href="checks.html" title="Checks">Checks</a>      <ul>
  <li class="none"><a href="config_annotation.html" title="Annotations">Annotations</a>  </li>
  <li class="none"><a href="config_blocks.html" title="Block Checks">Block Checks</a>  </li>
  <li class="none"><a href="config_design.html" title="Class Design">Class Design</a>  </li>
  <li class="none"><a href="config_coding.html" title="Coding">Coding</a>  </li>
  <li class="none"><a href="config_header.html" title="Headers">Headers</a>  </li>
  <li class="none"><a href="config_imports.html" title="Imports">Imports</a>  </li>
  <li class="none"><a href="config_javadoc.html" title="Javadoc Comments">Javadoc Comments</a>  </li>
  <li class="none"><a href="config_metrics.html" title="Metrics">Metrics</a>  </li>
  <li class="none"><a href="config_misc.html" title="Miscellaneous">Miscellaneous</a>  </li>
  <li class="none"><a href="config_modifier.html" title="Modifiers">Modifiers</a>  </li>
  <li class="none"><a href="config_naming.html" title="Naming Conventions">Naming Conventions</a>  </li>
  <li class="none"><a href="config_regexp.html" title="Regexp">Regexp</a>  </li>
  <li class="none"><a href="config_sizes.html" title="Size Violations">Size Violations</a>  </li>
  <li class="none"><a href="config_whitespace.html" title="Whitespace">Whitespace</a>  </li>
      </ul>
  </li>
  <li class="expanded"><a href="style_configs.html" title="Style Configurations">Style Configurations</a>      <ul>
  <li class="none"><a href="google_style.html" title="Google's Style">Google's Style</a>  </li>
  <li class="none"><a href="sun_style.html" title="Sun's Style">Sun's Style</a>  </li>
      </ul>
  </li>
    </ul>
       <h5>Developers</h5>
    <ul>
  <li class="expanded"><a href="extending.html" title="Extending Checkstyle">Extending Checkstyle</a>      <ul>
  <li class="none"><a href="writingchecks.html" title="Writing Checks">Writing Checks</a>  </li>
  <li class="none"><a href="writingjavadocchecks.html" title="Writing Javadoc Checks">Writing Javadoc Checks</a>  </li>
  <li class="none"><a href="writingfilters.html" title="Writing Filters">Writing Filters</a>  </li>
  <li class="none"><a href="writingfilefilters.html" title="Writing File Filters">Writing File Filters</a>  </li>
  <li class="none"><a href="writinglisteners.html" title="Writing Listeners">Writing Listeners</a>  </li>
      </ul>
  </li>
  <li class="none"><a href="contributing.html" title="Contributing">Contributing</a>  </li>
  <li class="expanded"><a href="beginning_development.html" title="Beginning Development">Beginning Development</a>      <ul>
  <li class="none"><a href="eclipse.html" title="Eclipse IDE">Eclipse IDE</a>  </li>
  <li class="none"><a href="netbeans.html" title="NetBeans IDE">NetBeans IDE</a>  </li>
  <li class="none"><a href="idea.html" title="IntelliJ IDE">IntelliJ IDE</a>  </li>
      </ul>
  </li>
  <li class="none"><a href="apidocs/index.html" title="Javadoc">Javadoc</a>  </li>
    </ul>
       <h5>Project Documentation</h5>
    <ul>
  <li class="collapsed"><a href="project-info.html" title="Project Information">Project Information</a>  </li>
  <li class="collapsed"><a href="project-reports.html" title="Project Reports">Project Reports</a>  </li>
    </ul>
      <a href="https://github.com/checkstyle/checkstyle" title="GitHub" class="poweredBy">
        <img class="poweredBy"  alt="GitHub" src="images/github_logo_social_coding_outlined.png"     />
      </a>
      <a href="https://sourceforge.net/projects/checkstyle/" title="SourceForge" class="poweredBy">
        <img class="poweredBy"  alt="SourceForge" src="images/sflogo.gif"     />
      </a>
      <a href="https://twitter.com/checkstyle_java/" title="Twitter" class="poweredBy">
        <img class="poweredBy"  alt="Twitter" src="images/twitter_button.png"     />
      </a>
      <a href="https://stackoverflow.com/questions/tagged/checkstyle" title="Stackoverflow" class="poweredBy">
        <img class="poweredBy"  alt="Stackoverflow" src="images/stackoverflow.jpeg"     />
      </a>
      <a href="https://groups.google.com/forum/#!forum/checkstyle" title="GoogleGroups" class="poweredBy">
        <img class="poweredBy"  alt="GoogleGroups" src="images/groups.png"     />
      </a>
      <a href="https://sourceforge.net/p/checkstyle/news/feed" title="Rss" class="poweredBy">
        <img class="poweredBy"  alt="Rss" src="images/rss-long.png"     />
      </a>
      <a href="https://plus.google.com/+CheckstyleJava" title="Google+" class="poweredBy">
        <img class="poweredBy"  alt="Google+" src="images/Google-Plus-Logo-120x38.png"     />
      </a>
      <a href="https://www.ej-technologies.com/products/jprofiler/overview.html" title="JProfiler" class="poweredBy">
        <img class="poweredBy"  alt="JProfiler" src="https://www.ej-technologies.com/images/product_banners/jprofiler_medium.png"     />
      </a>
      </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">


  
    
<div class="section">
<h2><a name="Content"></a>Content</h2>
      
        
        
      
<ul>
<li><a href="#Content">Content</a></li>
<li><a href="#Description">Description</a></li>
<li><a href="#Installation">Installation</a></li>
<li><a href="#Parameters">Parameters</a></li>
<li><a href="#Nested_Elements">Nested Elements</a></li>
<li><a href="#Examples">Examples</a></li></ul>
    </div>

    
<div class="section">
<h2><a name="Description"></a>Description</h2>

      
<p>
        This task runs Checkstyle over specified Java files.
        The latest version of checkstyle can be found at
        <a class="externalLink" href="http://checkstyle.sourceforge.net/">http://checkstyle.sourceforge.net/</a>.

        This task is included in the checkstyle distribution.
      </p>

    </div>

    
<div class="section">
<h2><a name="Installation"></a>Installation</h2>

      
<p>
        The easiest way is to include
        <tt>checkstyle-8.8-all.jar</tt> in the
        classpath. This contains all the classes required to run
        Checkstyle. Alternatively, you must include the
        <tt>compile</tt> third party dependencies listed in <a href="dependencies.html">Project Dependencies</a> in the
        classpath.
      </p>

      
<p>
        To use the task in a build file, you will need the following
        <tt>taskdef</tt> declaration:
      </p>

      
<div class="source">
<pre>
&lt;taskdef resource=&quot;com/puppycrawl/tools/checkstyle/ant/checkstyle-ant-task.properties&quot;
         classpath=&quot;/path/to/checkstyle-8.8-all.jar&quot;/&gt;
      </pre></div>

      
<p>
        Or, assuming that Checkstyle is in the global classpath (not
        recommended), then you will need the following <tt>taskdef</tt>
        declaration:
      </p>

      
<div class="source">
<pre>
&lt;taskdef resource=&quot;com/puppycrawl/tools/checkstyle/ant/checkstyle-ant-task.properties&quot;/&gt;
      </pre></div>

      
<p>
        Or if you use Ant 1.6 and later and assuming that Checkstyle
        is in the library search path, then you may use antlib feature
        of Ant (see <a class="externalLink" href="http://ant.apache.org/manual/Types/antlib.html">http://ant.apache.org/manual/Types/antlib.html</a>
        for more details).  For example:
      </p>

      
<div class="source">
<pre>
&lt;project name=&quot;foo&quot; ...
         xmlns:cs=&quot;antlib:com.puppycrawl.tools.checkstyle.ant&quot;&gt;
...
  &lt;cs:checkstyle&gt;
  ...
  &lt;/cs:checkstyle&gt;
...
&lt;/project&gt;
      </pre></div>

    </div>

    
<div class="section">
<h2><a name="Parameters"></a>Parameters</h2>

      
<table border="0" class="bodyTable" summary="parameters">

        
<tr class="a">
          
<td><b>Attribute</b></td>
          
<td><b>Description</b></td>
          
<td><b>Required</b></td>
        </tr>

        
<tr class="b">
          
<td>file</td>
          
<td>File to run checkstyle on.</td>
          
<td>
            One of either <i>file</i> or at least one nested <i>fileset</i> or <i>path</i>
            element
          </td>
        </tr>

        
<tr class="a">
          
<td>fileset</td>
          
<td>
            A set of files to run checkstyle on. Nested attribute.
            See <a class="externalLink" href="http://ant.apache.org/manual/Types/fileset.html">fileset</a>
            ant documentation for details
          </td>
          
<td>
            One of either <i>file</i> or at least one nested <i>fileset</i> or <i>path</i>
            element
          </td>
        </tr>

        
<tr class="b">
          
<td>path</td>
          
<td>
            A set of path to run checkstyle on. Nested attribute.
            See <a class="externalLink" href="http://ant.apache.org/manual/using.html#path">path</a>
            ant documentation for details
          </td>
          
<td>
            One of either <i>file</i> or at least one nested <i>fileset</i> or <i>path</i>
            element
          </td>
        </tr>

        
<tr class="a">
          
<td>config</td>
          
<td>
            Specifies the location of the file, URL, or Java resource that defines the configuration
            modules.
            <br />
            <a href="config.html">See here</a> for a description of how to
            define a configuration.
          </td>
          
<td>Exactly one config location</td>
        </tr>

        
<tr class="b">
          
<td>properties</td>
          
<td>
            Specifies a file that contains properties for <a href="config.html#Properties"> expanded property values</a> of the
            configuration.  Ant properties (like ${basedir}) and nested
            property elements override the properties in this file.
          </td>
          
<td>No</td>
        </tr>

        
<tr class="a">
          
<td>failOnViolation</td>
          
<td>
            Specifies whether the build will continue even if there are
            violations. Defaults to <tt>&quot;true&quot;</tt>.
          </td>
          
<td>No</td>
        </tr>

        
<tr class="b">
          
<td>failureProperty</td>
          
<td>The name of a property to set in the event of a violation.</td>
          
<td>No</td>
        </tr>

        
<tr class="a">
          
<td>maxErrors</td>
          
<td>
            The maximum number of errors that are tolerated before
            breaking the build or setting the failure property. Defaults
            to <tt>&quot;0&quot;</tt>.
          </td>
          
<td>No</td>
        </tr>

        
<tr class="b">
          
<td>maxWarnings</td>
          
<td>
            The maximum number of warnings that are tolerated before
            breaking the build or setting the failure property. Defaults
            to <tt>&quot;2147483647&quot;</tt>, i.e.

            <a class="externalLink" href="https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#MAX_VALUE">Integer.MAX_VALUE</a>.
          </td>
          
<td>No</td>
        </tr>

        
<tr class="a">
          
<td>classpath</td>
          
<td>
            The classpath to use when looking up classes. Defaults to the
            current classpath.
          </td>
          
<td>No</td>
        </tr>

        
<tr class="b">
          
<td>classpathref</td>
          
<td>
            The classpath to use when looking up classes, given as a reference
            to a path defined elsewhere.
          </td>
          
<td>No</td>
        </tr>

        
<tr class="a">
          
<td>executeIgnoredModules</td>
          
<td>
            For efficiency, Checkstyle does not invoke modules with a configured severity of
            &quot;ignore&quot; (since their output would be ignored anyway). A small number of modules
            may choose to log above their configured severity level and so always need to be
            invoked. This settings specifies that behaviour.
            Defaults to <tt>&quot;false&quot;</tt>.
          </td>
          
<td>No</td>
        </tr>
      </table>

      
<p>
        Note that the <tt>packageNamesFile</tt>
        parameter has been dropped for Checkstyle 5.0, because of
        significant changes regarding package name file handling. See <a href="config.html#Packages"></a> for details.
      </p>

      
<p>
        Also note, that checkstyle ignores all duplicate files,
        specified in the <i>file</i>, <i>fileset</i> or <i>path</i> parameters
      </p>
    </div>

    
<div class="section">
<h2><a name="Nested_Elements"></a>Nested Elements</h2>

      
<p>
        This task supports the nested elements <a class="externalLink" href="http://ant.apache.org/manual/Types/fileset.html">&lt;fileset&gt;</a>,
        <a class="externalLink" href="http://ant.apache.org/manual/using.html#path">&lt;classpath&gt;</a>,
        <a class="externalLink" href="http://ant.apache.org/manual/using.html#path">&lt;path&gt;</a>,
        <tt>&lt;formatter&gt;</tt>, and <tt>&lt;property&gt;</tt>.
      </p>

      
<p>
        The parameters for the <tt>&lt;formatter&gt;</tt>
        element are:
      </p>

      
<table border="0" class="bodyTable" summary="nested elements">
        
<tr class="a">
          
<td><b>Attribute</b></td>
          
<td><b>Description</b></td>
          
<td><b>Required</b></td>
        </tr>

        
<tr class="b">
          
<td>type</td>
          
<td>
            
<p>The type of output to generate. The valid values are:</p>
            
<ul>
              
<li>
                <tt>plain</tt> - specifies the <a href="apidocs/com/puppycrawl/tools/checkstyle/DefaultLogger.html">DefaultLogger</a>
              </li>
              
<li>
                <tt>xml</tt> - specifies the <a href="apidocs/com/puppycrawl/tools/checkstyle/XMLLogger.html">XMLLogger</a>
              </li>
            </ul>
            
<p>Defaults to <tt>&quot;plain&quot;</tt>.</p>
          </td>
          
<td>No</td>
        </tr>

        
<tr class="a">
          
<td>toFile</td>
          
<td>
            The file to write output to. Defaults to standard output. Note,
            there is no way to explicitly specify standard output.
          </td>
          
<td>No</td>
        </tr>
        
<tr class="b">
          
<td>useFile</td>
          
<td>Boolean that determines whether output should be sent to
          a file.  Default is <tt>true</tt>.</td>
          
<td>No</td>
        </tr>
      </table>

      
<p>
        A <tt>&lt;property&gt;</tt> element provides a property for
        <a href="config.html#Properties">expanded property values</a> of
        the configuration.  The parameters for the
        <tt>&lt;property&gt;</tt> element are:
      </p>

      
<table border="0" class="bodyTable" summary="nested elements">
        
<tr class="a">
          
<td><b>Attribute</b></td>
          
<td><b>Description</b></td>
          
<td><b>Required</b></td>
        </tr>
        
<tr class="b">
          
<td>key</td>
          
<td>
<p>The key for the property.</p></td>
          
<td>Yes</td>
        </tr>

        
<tr class="a">
          
<td>value</td>
          
<td>The value of the property specified as a string.</td>
          
<td>Either <i>value</i> or <i>file</i></td>
        </tr>

        
<tr class="b">
          
<td>file</td>
          
<td>
            The value of the property specified as a file. This is great for
            specifying file names relative to the ANT build file.
          </td>
          
<td>Either <i>value</i> or <i>file</i></td>
        </tr>
      </table>

    </div>

    
<div class="section">
<h2><a name="Examples"></a>Examples</h2>

      
<p>
        An example project can be found
        <a class="externalLink" href="https://github.com/sevntu-checkstyle/checkstyle-samples/tree/master/ant-project">here</a>.
      </p>

      
<p>
        <b>
          Checkstyle use ant configuration to validate its own code. See example is our git repository -
          <a class="externalLink" href="https://github.com/checkstyle/checkstyle/blob/master/config/ant-phase-verify.xml#L25">
            config/ant-phase-verify.xml</a>.
        </b>
      </p>

      
<p>
        <b>
          Run checkstyle with configuration file
          <tt>docs/sun_checks.xml</tt> on a single file
        </b>
      </p>

      
<div class="source">
<pre>
&lt;checkstyle config=&quot;docs/sun_checks.xml&quot; file=&quot;Check.java&quot;/&gt;
      </pre></div>

      
<p>
        <b>
          Run checkstyle on a set of Java files using site-wide configuration
          and an expanded property value
        </b>
      </p>
      
<div class="source">
<pre>
&lt;checkstyle config=&quot;/path/to/site/sun_checks.xml&quot;&gt;
  &lt;fileset dir=&quot;src/checkstyle&quot; includes=&quot;**/*.java&quot;/&gt;

  &lt;!-- Location of cache-file. Something that is project specific --&gt;
  &lt;property key=&quot;checkstyle.cache.file&quot; file=&quot;target/cachefile&quot;/&gt;
&lt;/checkstyle&gt;
      </pre></div>

      
<p>
        <b>
          Run checkstyle on a previously defined source path.
        </b>
      </p>
      
<div class="source">
<pre>
&lt;!-- Somewhere in your config --&gt;
&lt;path id=&quot;project.sourcepath&quot;&gt;
  &lt;fileset dir=&quot;src&quot;
              includes=&quot;**/*&quot;
              excludes=&quot;it/resources/**/*,test/resources/**/*,test/resources-noncompilable/**/*&quot;/&gt;
&lt;/path&gt;

&lt;!-- Actual checkstyle config --&gt;
&lt;checkstyle config=&quot;/path/to/site/sun_checks.xml&quot;&gt;
  &lt;!-- Refer to a previously defined source path --&gt;
  &lt;path refid=&quot;project.sourcepath&quot; /&gt;
&lt;/checkstyle&gt;
      </pre></div>

      
<p>
        <b>
          Run checkstyle on a set of files and output messages to standard
          output in plain format, and a file in XML format
        </b>
      </p>
      
<div class="source">
<pre>
&lt;checkstyle config=&quot;docs/sun_checks.xml&quot;&gt;
  &lt;fileset dir=&quot;src/checkstyle&quot; includes=&quot;**/*.java&quot;/&gt;
  &lt;formatter type=&quot;plain&quot;/&gt;
  &lt;formatter type=&quot;xml&quot; toFile=&quot;build/checkstyle_errors.xml&quot;/&gt;
&lt;/checkstyle&gt;
      </pre></div>

      
<p>
        <b>
          Run checkstyle with configuration file
          <tt>docs/sun_checks.xml</tt> on a file and provide a package
          names file
        </b>
      </p>
      
<div class="source">
<pre>
&lt;checkstyle config=&quot;docs/sun_checks.xml&quot;
            packageNamesFile=&quot;myPackageNames.xml&quot;
            file=&quot;Check.java&quot;/&gt;
      </pre></div>

      
<p>
        <b>
          Run checkstyle in an automated build and send an email report if
          style violations are detected
        </b>
      </p>
      
<div class="source">
<pre>
&lt;target name=&quot;checkstyle&quot;
        description=&quot;Generates a report of code convention violations.&quot;&gt;

  &lt;checkstyle config=&quot;docs/sun_checks.xml&quot;
              failureProperty=&quot;checkstyle.failure&quot;
              failOnViolation=&quot;false&quot;&gt;
    &lt;formatter type=&quot;xml&quot; tofile=&quot;checkstyle_report.xml&quot;/&gt;
    &lt;fileset dir=&quot;src&quot; includes=&quot;**/*.java&quot;/&gt;
  &lt;/checkstyle&gt;

  &lt;style in=&quot;checkstyle_report.xml&quot; out=&quot;checkstyle_report.html&quot;
      style=&quot;checkstyle.xsl&quot;/&gt;

&lt;/target&gt;

&lt;!-- run this target as part of automated build --&gt;
&lt;target name=&quot;checkstyle-nightly&quot;
        depends=&quot;checkstyle&quot;
        if=&quot;checkstyle.failure&quot;
        description=&quot;Sends email if checkstyle detected code conventions violations.&quot;&gt;

  &lt;!-- use your own server and email addresses below. See Ant documentation for details --&gt;

  &lt;mail from=&quot;qa@some.domain&quot;
        tolist=&quot;someone@some.domain,someoneelse@some.domain&quot;
        mailhost=&quot;mailbox.some.domain&quot;
        subject=&quot;Checkstyle violation(s) in project ${ant.project.name}&quot;
        files=&quot;checkstyle_report.html&quot;/&gt;

&lt;/target&gt;
      </pre></div>

    </div>
  

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        Copyright &#169;      2001&#x2013;2018.All rights reserved.      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
