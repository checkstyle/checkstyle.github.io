<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0 from src/site/xdoc/checks/misc/trailingcomment.xml at 2025-02-23
 | Rendered using Apache Maven Fluido Skin 2.0.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0" />
    <title>TrailingComment – checkstyle</title>
    <link rel="stylesheet" href="../../css/apache-maven-fluido-2.0.1.min.css" />
    <link rel="stylesheet" href="../../css/site.css" />
    <link rel="stylesheet" href="../../css/print.css" media="print" />
    <script src="../../js/apache-maven-fluido-2.0.1.min.js"></script>
<script type="text/javascript" src="../../js/checkstyle.js"></script>
        <script type="text/javascript"
              src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script type="text/javascript" src="../../js/anchors.js"></script>
        <script type="text/javascript" src="../../js/google-analytics.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js"></script>
        <script type="text/javascript"
              src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css">
        <link rel="icon" href="../../images/favicon.png" type="image/x-icon" />
        <link rel="shortcut icon" href="../../images/favicon.ico" type="image/ico" />
  </head>
  <body>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1><a href="../.././"><img class="class java.lang.Object" src="../../images/header-checkstyle-logo.png" alt="Checkstyle" /></a></h1></div></div>
          <div class="pull-right"><div id="bannerRight"><h1><img class="class java.lang.Object" src="../../images/header-right-ruller.png" alt="Checkstyle" /></h1></div></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2025-02-23</li>
          <li id="projectVersion" class="pull-right"><span class="divider">|</span>Version: 10.21.3</li>
        <li class="pull-right"><a>toTop</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">About</li>
    <li><a href="../../index.html">Checkstyle</a></li>
    <li><a href="../../releasenotes.html">Release Notes</a></li>
    <li><a href="../../consulting.html">Consulting</a></li>
    <li><a href="../../sponsoring.html">Sponsoring</a></li>
   <li class="nav-header">Documentation</li>
    <li><a href="../../config.html"><span class="icon-chevron-down"></span>Configuration</a>
     <ul class="nav nav-list">
      <li><a href="../../property_types.html">Property Types</a></li>
      <li><a href="../../config_system_properties.html">System Properties</a></li>
     </ul></li>
    <li><a href="../../running.html"><span class="icon-chevron-down"></span>Running</a>
     <ul class="nav nav-list">
      <li><a href="../../anttask.html">Ant Task</a></li>
      <li><a href="../../cmdline.html">Command Line</a></li>
     </ul></li>
    <li><a href="../../checks.html"><span class="icon-chevron-down"></span>Checks</a>
     <ul class="nav nav-list">
      <li><a href="../../checks/annotation/index.html"><span class="icon-chevron-right"></span>Annotations</a></li>
      <li><a href="../../checks/blocks/index.html"><span class="icon-chevron-right"></span>Block Checks</a></li>
      <li><a href="../../checks/design/index.html"><span class="icon-chevron-right"></span>Class Design</a></li>
      <li><a href="../../checks/coding/index.html"><span class="icon-chevron-right"></span>Coding</a></li>
      <li><a href="../../checks/header/index.html"><span class="icon-chevron-right"></span>Headers</a></li>
      <li><a href="../../checks/imports/index.html"><span class="icon-chevron-right"></span>Imports</a></li>
      <li><a href="../../checks/javadoc/index.html"><span class="icon-chevron-right"></span>Javadoc Comments</a></li>
      <li><a href="../../checks/metrics/index.html"><span class="icon-chevron-right"></span>Metrics</a></li>
      <li><a href="../../checks/misc/index.html"><span class="icon-chevron-down"></span>Miscellaneous</a>
       <ul class="nav nav-list">
        <li><a href="../../checks/misc/arraytypestyle.html">ArrayTypeStyle</a></li>
        <li><a href="../../checks/misc/avoidescapedunicodecharacters.html">AvoidEscapedUnicodeCharacters</a></li>
        <li><a href="../../checks/misc/commentsindentation.html">CommentsIndentation</a></li>
        <li><a href="../../checks/misc/descendanttoken.html">DescendantToken</a></li>
        <li><a href="../../checks/misc/finalparameters.html">FinalParameters</a></li>
        <li><a href="../../checks/misc/indentation.html">Indentation</a></li>
        <li><a href="../../checks/misc/newlineatendoffile.html">NewlineAtEndOfFile</a></li>
        <li><a href="../../checks/misc/nocodeinfile.html">NoCodeInFile</a></li>
        <li><a href="../../checks/misc/orderedproperties.html">OrderedProperties</a></li>
        <li><a href="../../checks/misc/outertypefilename.html">OuterTypeFilename</a></li>
        <li><a href="../../checks/misc/todocomment.html">TodoComment</a></li>
        <li class="active"><a>TrailingComment</a></li>
        <li><a href="../../checks/misc/translation.html">Translation</a></li>
        <li><a href="../../checks/misc/uncommentedmain.html">UncommentedMain</a></li>
        <li><a href="../../checks/misc/uniqueproperties.html">UniqueProperties</a></li>
        <li><a href="../../checks/misc/upperell.html">UpperEll</a></li>
       </ul></li>
      <li><a href="../../checks/modifier/index.html"><span class="icon-chevron-right"></span>Modifiers</a></li>
      <li><a href="../../checks/naming/index.html"><span class="icon-chevron-right"></span>Naming Conventions</a></li>
      <li><a href="../../checks/regexp/index.html"><span class="icon-chevron-right"></span>Regexp</a></li>
      <li><a href="../../checks/sizes/index.html"><span class="icon-chevron-right"></span>Size Violations</a></li>
      <li><a href="../../checks/whitespace/index.html"><span class="icon-chevron-right"></span>Whitespace</a></li>
     </ul></li>
    <li><a href="../../filters/index.html"><span class="icon-chevron-right"></span>Filters</a></li>
    <li><a href="../../filefilters/index.html"><span class="icon-chevron-right"></span>File Filters</a></li>
    <li><a href="../../style_configs.html"><span class="icon-chevron-down"></span>Style Configurations</a>
     <ul class="nav nav-list">
      <li><a href="../../google_style.html">Google&apos;s Style</a></li>
      <li><a href="../../sun_style.html">Sun&apos;s Style</a></li>
     </ul></li>
   <li class="nav-header">Developers</li>
    <li><a href="../../extending.html"><span class="icon-chevron-down"></span>Extending Checkstyle</a>
     <ul class="nav nav-list">
      <li><a href="../../writingchecks.html">Writing Checks</a></li>
      <li><a href="../../writingjavadocchecks.html">Writing Javadoc Checks</a></li>
      <li><a href="../../writingfilters.html">Writing Filters</a></li>
      <li><a href="../../writingfilefilters.html">Writing File Filters</a></li>
      <li><a href="../../writinglisteners.html">Writing Listeners</a></li>
     </ul></li>
    <li><a href="../../contributing.html">Contributing</a></li>
    <li><a href="../../beginning_development.html"><span class="icon-chevron-down"></span>Beginning Development</a>
     <ul class="nav nav-list">
      <li><a href="../../eclipse.html">Eclipse IDE</a></li>
      <li><a href="../../netbeans.html">NetBeans IDE</a></li>
      <li><a href="../../idea.html">IntelliJ IDE</a></li>
     </ul></li>
    <li><a href="../../apidocs/index.html">Javadoc</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="../../project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="../../project-reports.html"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://github.com/checkstyle/checkstyle" class="builtBy"><img class="builtBy" src="../../images/github_logo_social_coding_outlined.png" alt="GitHub" /></a>
<a href="https://twitter.com/checkstyle_java/" class="builtBy"><img class="builtBy" src="../../images/twitter_button.png" alt="Twitter" /></a>
<a href="https://stackoverflow.com/questions/tagged/checkstyle" class="builtBy"><img class="builtBy" src="../../images/stackoverflow.jpeg" alt="Stackoverflow" /></a>
<a href="https://groups.google.com/forum/#!forum/checkstyle" class="builtBy"><img class="builtBy" src="../../images/groups.png" alt="GoogleGroups" /></a>
<a href="https://www.ej-technologies.com/products/jprofiler/overview.html" class="builtBy"><img class="builtBy" src="https://www.ej-technologies.com/images/product_banners/jprofiler_medium.png" alt="JProfiler" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">

  
    <section><a id="TrailingComment"></a>
<h1>TrailingComment</h1>
      
<p>Since Checkstyle 3.4</p>
      <a id="Description"></a><section id="Description"><a id="Description"></a>
<h2>Description</h2>
        
<div>
          The check to ensure that lines with code do not end with comment.
          For the case of <code>//</code> comments that means that the only thing
          that should precede it is whitespace. It doesn't check comments if
          they do not end a line; for example, it accepts the following:
          <code>Thread.sleep( 10 /*some comment here*/ );</code> Format
          property is intended to deal with the <code>} // while</code> example.
        </div>

        
<p>
          Rationale: Steve McConnell in <cite>Code Complete</cite> suggests that
          endline comments are a bad practice. An end line comment would be
          one that is on the same line as actual code. For example:
        </p>

        
<pre class="prettyprint"><code>
a = b + c;      // Some insightful comment
d = e / f;        // Another comment for this line
        </code></pre>

        
<p>
          Quoting <cite>Code Complete</cite> for the justification:
        </p>

        
<ul>
          
<li> &quot;The comments have to be aligned so that they do not
          interfere with the visual structure of the code. If you don't align
          them neatly, they'll make your listing look like it's been through a
          washing machine.&quot;
          </li>
          
<li> &quot;Endline comments tend to be hard to format...It takes
          time to align them. Such time is not spent learning more about the
          code; it's dedicated solely to the tedious task of pressing the
          spacebar or tab key.&quot;
          </li>
          
<li> &quot;Endline comments are also hard to maintain. If the code
          on any line containing an endline comment grows, it bumps the
          comment farther out, and all the other endline comments will have to
          bumped out to match. Styles that are hard to maintain aren't
          maintained....&quot;
          </li>
          
<li> &quot;Endline comments also tend to be cryptic. The right side
          of the line doesn't offer much room and the desire to keep the
          comment on one line means the comment must be short. Work then goes
          into making the line as short as possible instead of as clear as
          possible. The comment usually ends up as cryptic as
          possible....&quot;
          </li>
          
<li> &quot;A systemic problem with endline comments is that it's
          hard to write a meaningful comment for one line of code. Most
          endline comments just repeat the line of code, which hurts more than
          it helps.&quot;
          </li>
        </ul>

        
<p>
          McConnell's comments on being hard to maintain when the size of the line
          changes are even more important in the age of automated
          refactorings.
        </p>
      </section>

      <a id="Properties"></a><section id="Properties"><a id="Properties"></a>
<h2>Properties</h2>
        
<div class="wrapper">
          
<table class="table table-striped">
            
<tr class="a">
              
<th>name</th>
              
<th>description</th>
              
<th>type</th>
              
<th>default value</th>
              
<th>since</th>
            </tr>
            
<tr class="b">
              
<td>format</td>
              
<td>Specify pattern for strings allowed before the comment.</td>
              
<td><a href="../../property_types.html#Pattern">Pattern</a></td>
              
<td><code>&quot;^[\s});]*$&quot;</code></td>
              
<td>3.4</td>
            </tr>
            
<tr class="a">
              
<td>legalComment</td>
              
<td>Define pattern for text allowed in trailing comments. This pattern will not be applied to multiline comments.</td>
              
<td><a href="../../property_types.html#Pattern">Pattern</a></td>
              
<td><code>null</code></td>
              
<td>4.2</td>
            </tr>
          </table>
        </div>
      </section>

      <a id="Examples"></a><section id="Examples"><a id="Examples"></a>
<h2>Examples</h2>
        
<p id="Example1-config">
          To configure the check:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-xml">
&lt;module name=&quot;Checker&quot;&gt;
  &lt;module name=&quot;TreeWalker&quot;&gt;
    &lt;module name=&quot;TrailingComment&quot;/&gt;
  &lt;/module&gt;
&lt;/module&gt;
</code></pre></div>

        
<p id="Example1-code">
          Example:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-java">
public class Example1 {
  public static void main(String[] args) {
    int x = 10;
    // OK
    if (/* OK */ x &gt; 5) {}
    int a = 5; // violation
    doSomething(
            &quot;param1&quot;
    ); // OK, by default such trailing of method/code-block ending is allowed

  }

  private static void doSomething(String param) {
  }
}
</code></pre></div>

        
<p id="Example2-config">
          To configure the check to enforce only comment on a line:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-xml">
&lt;module name=&quot;Checker&quot;&gt;
  &lt;module name=&quot;TreeWalker&quot;&gt;
    &lt;module name=&quot;TrailingComment&quot;&gt;
      &lt;property name=&quot;format&quot; value=&quot;^\s*$&quot;/&gt;
    &lt;/module&gt;
  &lt;/module&gt;
&lt;/module&gt;
</code></pre></div>

        
<p id="Example2-code">
          Example:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-java">
public class Example2 {
  public static void main(String[] args) {
    int x = new Random().nextInt(100);
    // OK
    if (/* OK, this comment does not end the line */ x &gt; 5) {}
    int a = 5; // violation, line content before comment should match pattern &quot;^\s*$&quot;
    doSomething(
            &quot;param1&quot;
    ); // violation, line content before comment should match pattern &quot;^\s*$&quot;
  }

  private static void doSomething(String param) {
  }
}
</code></pre></div>

        
<p id="Example3-config">
          To configure check so that trailing comment with exact comments like
          &quot;SUPPRESS CHECKSTYLE&quot;, &quot;NOPMD&quot;, &quot;NOSONAR&quot;
          are suppressed:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-xml">
&lt;module name=&quot;Checker&quot;&gt;
  &lt;module name=&quot;TreeWalker&quot;&gt;
    &lt;module name=&quot;TrailingComment&quot;/&gt;
    &lt;module name=&quot;SuppressionXpathSingleFilter&quot;&gt;
      &lt;property name=&quot;checks&quot; value=&quot;TrailingCommentCheck&quot;/&gt;
      &lt;property name=&quot;query&quot; value=&quot;//SINGLE_LINE_COMMENT
        [./COMMENT_CONTENT[@text=' NOSONAR\n' or @text=' NOPMD\n'
        or @text=' SUPPRESS CHECKSTYLE\n']]&quot;/&gt;
    &lt;/module&gt;
  &lt;/module&gt;
&lt;/module&gt;
</code></pre></div>

        
<p id="Example3-code">
          Example for trailing comments check to suppress specific trailing comment:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-java">
public class Example3 {
  int a; // SUPPRESS CHECKSTYLE
  int b; // NOPMD
  int c; // NOSONAR
  int d; // violation, not suppressed
}
</code></pre></div>

        
<p id="Example4-config">
          To configure check so that trailing comment starting with &quot;SUPPRESS CHECKSTYLE&quot;,
          &quot;NOPMD&quot;, &quot;NOSONAR&quot; are suppressed:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-xml">
&lt;module name=&quot;Checker&quot;&gt;
  &lt;module name=&quot;TreeWalker&quot;&gt;
    &lt;module name=&quot;TrailingComment&quot;/&gt;
    &lt;module name=&quot;SuppressionXpathSingleFilter&quot;&gt;
      &lt;property name=&quot;checks&quot; value=&quot;TrailingCommentCheck&quot;/&gt;
      &lt;property name=&quot;query&quot; value=&quot;//SINGLE_LINE_COMMENT
        [./COMMENT_CONTENT[starts-with(@text, ' NOPMD')]]&quot;/&gt;
      &lt;property name=&quot;query&quot; value=&quot;//SINGLE_LINE_COMMENT
        [./COMMENT_CONTENT[starts-with(@text, ' SUPPRESS CHECKSTYLE')]]&quot;/&gt;
      &lt;property name=&quot;query&quot; value=&quot;//SINGLE_LINE_COMMENT
        [./COMMENT_CONTENT[starts-with(@text, ' NOSONAR')]]&quot;/&gt;
    &lt;/module&gt;
  &lt;/module&gt;
&lt;/module&gt;
</code></pre></div>

        
<p id="Example4-code">
          Example:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-java">
public class Example4 {
  int a; // SUPPRESS CHECKSTYLE - OK, comment starts with &quot; SUPPRESS CHECKSTYLE&quot;
  int b; // NOPMD - OK, comment starts with &quot; NOPMD&quot;
  int c; // NOSONAR - OK, comment starts with &quot; NOSONAR&quot;
  int d; // violation, not suppressed
}
</code></pre></div>

      </section>

      <a id="Example_of_Usage"></a><section id="Example_of_Usage"><a id="Example_of_Usage"></a>
<h2>Example of Usage</h2>
        
<ul>
          
<li>
            <a href="https://github.com/search?q=path%3Aconfig%20path%3A**%2Fcheckstyle-checks.xml+repo%3Acheckstyle%2Fcheckstyle+TrailingComment" class="externalLink">
            Checkstyle Style</a>
          </li>
        </ul>
      </section>

      <a id="Violation_Messages"></a><section id="Violation_Messages"><a id="Violation_Messages"></a>
<h2>Violation Messages</h2>
        
<ul>
          
<li>
            <a href="https://github.com/search?q=path%3Asrc%2Fmain%2Fresources%2Fcom%2Fpuppycrawl%2Ftools%2Fcheckstyle%2Fchecks%20path%3A**%2Fmessages*.properties+repo%3Acheckstyle%2Fcheckstyle+%22trailing.comments%22" class="externalLink">
              trailing.comments
            </a>
          </li>
        </ul>
        
<p>
          All messages can be customized if the default message doesn't suit you.
          Please <a href="../../config.html#Custom_messages">see the documentation</a>
          to learn how to.
        </p>
      </section>

      <a id="Package"></a><section id="Package"><a id="Package"></a>
<h2>Package</h2>
        
<p>
          com.puppycrawl.tools.checkstyle.checks
        </p>
      </section>

      <a id="Parent_Module"></a><section id="Parent_Module"><a id="Parent_Module"></a>
<h2>Parent Module</h2>
        
<p>
          <a href="../../config.html#TreeWalker">TreeWalker</a>
        </p>
      </section>
    </section>
  
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2001–2025
</p>
        </div>
      </div>
    </footer>
  </body>
</html>
