<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src/xdocs/checks/design/visibilitymodifier.xml at 2023-06-25

 | Rendered using Apache Maven Default Skin
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>checkstyle &#x2013; VisibilityModifier</title>
    <link rel="stylesheet" href="../../css/maven-base.css" />
    <link rel="stylesheet" href="../../css/maven-theme.css" />
    <link rel="stylesheet" href="../../css/site.css" />
    <link rel="stylesheet" href="../../css/print.css" media="print" />
<script type="text/javascript" src="../../js/checkstyle.js"></script>
        <script type="text/javascript"
              src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script type="text/javascript" src="../../js/anchors.js"></script>
        <script type="text/javascript" src="../../js/google-analytics.js"></script>
        <link rel="icon" href="../../images/favicon.png" type="image/x-icon" />
        <link rel="shortcut icon" href="../../images/favicon.ico" type="image/ico" />
  </head>
  <body class="composite">
    <div id="banner">
<a href="../.././" id="bannerLeft" title="Checkstyle"><img src="../../images/header-checkstyle-logo.png"  alt="Checkstyle"/></a><a href="../.././" id="bannerRight" title="Checkstyle"><img src="../../images/header-right-ruller.png"  alt="Checkstyle"/></a>      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
      <div class="xright"><a href="../../" title="toTop">toTop</a>         | <span id="publishDate">Last Published: 2023-06-25</span>
         | <span id="projectVersion">Version: 10.12.1</span>
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
       <h5>About</h5>
    <ul>
     <li class="none"><a href="../../index.html" title="Checkstyle">Checkstyle</a></li>
     <li class="none"><a href="../../releasenotes.html" title="Release Notes">Release Notes</a></li>
     <li class="none"><a href="../../consulting.html" title="Consulting">Consulting</a></li>
     <li class="none"><a href="../../sponsoring.html" title="Sponsoring">Sponsoring</a></li>
    </ul>
       <h5>Documentation</h5>
    <ul>
     <li class="expanded"><a href="../../config.html" title="Configuration">Configuration</a>
      <ul>
       <li class="none"><a href="../../property_types.html" title="Property Types">Property Types</a></li>
       <li class="none"><a href="../../config_system_properties.html" title="System Properties">System Properties</a></li>
      </ul></li>
     <li class="expanded"><a href="../../running.html" title="Running">Running</a>
      <ul>
       <li class="none"><a href="../../anttask.html" title="Ant Task">Ant Task</a></li>
       <li class="none"><a href="../../cmdline.html" title="Command Line">Command Line</a></li>
      </ul></li>
     <li class="expanded"><a href="../../checks.html" title="Checks">Checks</a>
      <ul>
       <li class="collapsed"><a href="../../checks/annotation/index.html" title="Annotations">Annotations</a></li>
       <li class="collapsed"><a href="../../checks/blocks/index.html" title="Block Checks">Block Checks</a></li>
       <li class="expanded"><a href="../../checks/design/index.html" title="Class Design">Class Design</a>
        <ul>
         <li class="none"><a href="../../checks/design/designforextension.html" title="DesignForExtension">DesignForExtension</a></li>
         <li class="none"><a href="../../checks/design/finalclass.html" title="FinalClass">FinalClass</a></li>
         <li class="none"><a href="../../checks/design/hideutilityclassconstructor.html" title="HideUtilityClassConstructor">HideUtilityClassConstructor</a></li>
         <li class="none"><a href="../../checks/design/innertypelast.html" title="InnerTypeLast">InnerTypeLast</a></li>
         <li class="none"><a href="../../checks/design/interfaceistype.html" title="InterfaceIsType">InterfaceIsType</a></li>
         <li class="none"><a href="../../checks/design/mutableexception.html" title="MutableException">MutableException</a></li>
         <li class="none"><a href="../../checks/design/onetoplevelclass.html" title="OneTopLevelClass">OneTopLevelClass</a></li>
         <li class="none"><a href="../../checks/design/throwscount.html" title="ThrowsCount">ThrowsCount</a></li>
         <li class="none"><strong>VisibilityModifier</strong></li>
        </ul></li>
       <li class="collapsed"><a href="../../checks/coding/index.html" title="Coding">Coding</a></li>
       <li class="collapsed"><a href="../../checks/header/index.html" title="Headers">Headers</a></li>
       <li class="collapsed"><a href="../../checks/imports/index.html" title="Imports">Imports</a></li>
       <li class="collapsed"><a href="../../checks/javadoc/index.html" title="Javadoc Comments">Javadoc Comments</a></li>
       <li class="collapsed"><a href="../../checks/metrics/index.html" title="Metrics">Metrics</a></li>
       <li class="collapsed"><a href="../../checks/misc/index.html" title="Miscellaneous">Miscellaneous</a></li>
       <li class="collapsed"><a href="../../checks/modifier/index.html" title="Modifiers">Modifiers</a></li>
       <li class="collapsed"><a href="../../checks/naming/index.html" title="Naming Conventions">Naming Conventions</a></li>
       <li class="collapsed"><a href="../../checks/regexp/index.html" title="Regexp">Regexp</a></li>
       <li class="collapsed"><a href="../../checks/sizes/index.html" title="Size Violations">Size Violations</a></li>
       <li class="collapsed"><a href="../../checks/whitespace/index.html" title="Whitespace">Whitespace</a></li>
      </ul></li>
     <li class="collapsed"><a href="../../filters/index.html" title="Filters">Filters</a></li>
     <li class="collapsed"><a href="../../filefilters/index.html" title="File Filters">File Filters</a></li>
     <li class="expanded"><a href="../../style_configs.html" title="Style Configurations">Style Configurations</a>
      <ul>
       <li class="none"><a href="../../google_style.html" title="Google's Style">Google's Style</a></li>
       <li class="none"><a href="../../sun_style.html" title="Sun's Style">Sun's Style</a></li>
      </ul></li>
    </ul>
       <h5>Developers</h5>
    <ul>
     <li class="expanded"><a href="../../extending.html" title="Extending Checkstyle">Extending Checkstyle</a>
      <ul>
       <li class="none"><a href="../../writingchecks.html" title="Writing Checks">Writing Checks</a></li>
       <li class="none"><a href="../../writingjavadocchecks.html" title="Writing Javadoc Checks">Writing Javadoc Checks</a></li>
       <li class="none"><a href="../../writingfilters.html" title="Writing Filters">Writing Filters</a></li>
       <li class="none"><a href="../../writingfilefilters.html" title="Writing File Filters">Writing File Filters</a></li>
       <li class="none"><a href="../../writinglisteners.html" title="Writing Listeners">Writing Listeners</a></li>
      </ul></li>
     <li class="none"><a href="../../contributing.html" title="Contributing">Contributing</a></li>
     <li class="expanded"><a href="../../beginning_development.html" title="Beginning Development">Beginning Development</a>
      <ul>
       <li class="none"><a href="../../eclipse.html" title="Eclipse IDE">Eclipse IDE</a></li>
       <li class="none"><a href="../../netbeans.html" title="NetBeans IDE">NetBeans IDE</a></li>
       <li class="none"><a href="../../idea.html" title="IntelliJ IDE">IntelliJ IDE</a></li>
      </ul></li>
     <li class="none"><a href="../../apidocs/index.html" title="Javadoc">Javadoc</a></li>
    </ul>
       <h5>Project Documentation</h5>
    <ul>
     <li class="collapsed"><a href="../../project-info.html" title="Project Information">Project Information</a></li>
     <li class="collapsed"><a href="../../project-reports.html" title="Project Reports">Project Reports</a></li>
    </ul>
      <a href="https://github.com/checkstyle/checkstyle" title="GitHub" class="poweredBy">
        <img class="poweredBy"  alt="GitHub" src="../../images/github_logo_social_coding_outlined.png"     />
      </a>
      <a href="https://twitter.com/checkstyle_java/" title="Twitter" class="poweredBy">
        <img class="poweredBy"  alt="Twitter" src="../../images/twitter_button.png"     />
      </a>
      <a href="https://stackoverflow.com/questions/tagged/checkstyle" title="Stackoverflow" class="poweredBy">
        <img class="poweredBy"  alt="Stackoverflow" src="../../images/stackoverflow.jpeg"     />
      </a>
      <a href="https://groups.google.com/forum/#!forum/checkstyle" title="GoogleGroups" class="poweredBy">
        <img class="poweredBy"  alt="GoogleGroups" src="../../images/groups.png"     />
      </a>
      <a href="https://www.ej-technologies.com/products/jprofiler/overview.html" title="JProfiler" class="poweredBy">
        <img class="poweredBy"  alt="JProfiler" src="https://www.ej-technologies.com/images/product_banners/jprofiler_medium.png"     />
      </a>
      </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">

  
    <section>
<h2><a name="VisibilityModifier"></a>VisibilityModifier</h2>
      
<p>Since Checkstyle 3.0</p>
      <a name="Description"></a><section id="Description">
<h3><a name="Description"></a>Description</h3>
        
<p>
          Checks visibility of class members. Only static final, immutable or annotated
          by specified annotation members may be public; other class members must be private
          unless the property <code>protectedAllowed</code> or <code>packageAllowed</code> is set.
        </p>

        
<p>
          Public members are not flagged if the name matches the public
          member regular expression (contains <code>&quot;^serialVersionUID$&quot;</code> by default).
        </p>
        
<p>Note that
          Checkstyle 2 used to include <code>&quot;^f[A-Z][a-zA-Z0-9]*$&quot;</code> in the default
          pattern to allow names used in container-managed persistence for Enterprise JavaBeans
          (EJB) 1.1 with the default settings. With EJB 2.0 it is no longer necessary to have
          public access for persistent fields, so the default has been changed.
        </p>

        
<p>
          Rationale: Enforce encapsulation.
        </p>
        
<p>
          Check also has options making it less strict:
        </p>
        
<p>
          <b>ignoreAnnotationCanonicalNames</b> - the list of annotations which ignore variables
          in consideration. If user want to provide short annotation name that type
          will match to any named the same type without consideration of package.
        </p>
        
<p>
          <b>allowPublicFinalFields</b> - which allows public final fields.
        </p>
        
<p>
          <b>allowPublicImmutableFields</b> - which allows immutable fields to be declared as
          public if defined in final class.
        </p>
        
<p>
          Field is known to be immutable if:
        </p>
        
<ul>
          
<li>It's declared as final</li>
          
<li>
            Has either a primitive type or instance of class user defined to be immutable
            (such as String, ImmutableCollection from Guava, etc.)
          </li>
        </ul>
        
<p>
          Classes known to be immutable are listed in <b>immutableClassCanonicalNames</b> by their
          canonical names.
        </p>
        
<p>
          Property Rationale: Forcing all fields of class to have private modifier by default is
          good in most cases, but in some cases it drawbacks in too much boilerplate get/set code.
          One of such cases are immutable classes.
        </p>
        
<p>
          Restriction: Check doesn't check if class is immutable, there's no
          checking if accessory methods are missing and all fields are immutable, we only check
          if current field is immutable or final. Under the flag
          <b>allowPublicImmutableFields</b>, the enclosing class must also be final, to encourage
          immutability. Under the flag <b>allowPublicFinalFields</b>, the final modifier on
          the enclosing class is optional.
        </p>
        
<p>
          Star imports are out of scope of this Check. So if one of type imported via
          star import collides with user specified one by its short name -
          there won't be Check's violation.
        </p>
      </section>

      <a name="Properties"></a><section id="Properties">
<h3><a name="Properties"></a>Properties</h3>
        
<div class="wrapper">
          
<table border="0" class="bodyTable">
            
<tr class="a">
              
<th>name</th>
              
<th>description</th>
              
<th>type</th>
              
<th>default value</th>
              
<th>since</th>
            </tr>
            
<tr class="b">
              
<td align="left">packageAllowed</td>
              
<td>Control whether package visible members are allowed.</td>
              
<td><a href="../../property_types.html#boolean">boolean</a></td>
              
<td><code>false</code></td>
              
<td>3.0</td>
            </tr>
            
<tr class="a">
              
<td align="left">protectedAllowed</td>
              
<td>Control whether protected members are allowed.</td>
              
<td><a href="../../property_types.html#boolean">boolean</a></td>
              
<td><code>false</code></td>
              
<td>3.0</td>
            </tr>
            
<tr class="b">
              
<td align="left">publicMemberPattern</td>
              
<td>Specify pattern for public members that should be ignored.</td>
              
<td><a href="../../property_types.html#Pattern">Pattern</a></td>
              
<td><code>&quot;^serialVersionUID$&quot;</code></td>
              
<td>3.0</td>
            </tr>
            
<tr class="a">
              
<td align="left">allowPublicFinalFields</td>
              
<td>Allow final fields to be declared as public.</td>
              
<td><a href="../../property_types.html#boolean">boolean</a></td>
              
<td><code>false</code></td>
              
<td>7.0</td>
            </tr>
            
<tr class="b">
              
<td align="left">allowPublicImmutableFields</td>
              
<td>Allow immutable fields to be declared as public if defined in final class.</td>
              
<td><a href="../../property_types.html#boolean">boolean</a></td>
              
<td><code>false</code></td>
              
<td>6.4</td>
            </tr>
            
<tr class="a">
              
<td align="left">immutableClassCanonicalNames</td>
              
<td>Specify immutable classes canonical names.</td>
              
<td><a href="../../property_types.html#String.5B.5D">String[]</a></td>
              
<td><code>java.io.File, java.lang.Boolean, java.lang.Byte, java.lang.Character,
                java.lang.Double, java.lang.Float, java.lang.Integer, java.lang.Long,
                java.lang.Short, java.lang.StackTraceElement, java.lang.String,
                java.math.BigDecimal, java.math.BigInteger, java.net.Inet4Address,
                java.net.Inet6Address, java.net.InetSocketAddress, java.net.URI,
                java.net.URL, java.util.Locale, java.util.UUID</code></td>
              
<td>6.4.1</td>
            </tr>
            
<tr class="b">
              
<td align="left">ignoreAnnotationCanonicalNames</td>
              
<td>
                Specify annotations canonical names which ignore variables in
                consideration.
              </td>
              
<td><a href="../../property_types.html#String.5B.5D">String[]</a></td>
              
<td><code>com.google.common.annotations.VisibleForTesting,
                org.junit.ClassRule, org.junit.Rule</code></td>
              
<td>6.5</td>
            </tr>
          </table>
        </div>
      </section>

      <a name="Examples"></a><section id="Examples">
<h3><a name="Examples"></a>Examples</h3>
        
<p>
          To configure the check:
        </p>
        
<div class="source">
<pre>
&lt;module name=&quot;VisibilityModifier&quot;/&gt;
        </pre></div>
        
<p>Example with default values:</p>
        
<div class="source">
<pre>
public class MyClass {
 private int myPrivateField1;

 int field1;              // violation, must have a visibility modifier

 protected String field2; // violation, protected visibility is not allowed

 public int field3 = 42;  // violation, not static final, immutable,
                          // nor matching the pattern

 public long serialVersionUID = 1L;

 public static final int field4 = 42;

 public final int field5 = 42;          // violation, public immutable fields are not allowed
 public final java.lang.String notes;   // violation, public immutable fields are not allowed

 public final Set&lt;String&gt; mySet1 = new HashSet&lt;&gt;();  // violation, HashSet is mutable

 public final ImmutableSet&lt;String&gt; mySet2;           // violation,
                                                     // immutable type not in config

 public final ImmutableMap&lt;String, Object&gt; objects1; // violation,
                                                     // immutable type not in config

 @com.annotation.CustomAnnotation
 String annotatedString;      // violation, annotation is not configured

 @CustomAnnotation
 String shortCustomAnnotated; // violation, annotation is not configured

 @com.google.common.annotations.VisibleForTesting
 public String testString = &quot;&quot;;
}
        </pre></div>
        
<p>
          To configure the check so that it allows package visible members:
        </p>
        
<div class="source">
<pre>
&lt;module name=&quot;VisibilityModifier&quot;&gt;
  &lt;property name=&quot;packageAllowed&quot; value=&quot;true&quot;/&gt;
&lt;/module&gt;
        </pre></div>
        
<p>Example of allowed package visible members:</p>
        
<div class="source">
<pre>
public class MyClass {
 private int myPrivateField1;

 int field1;

 protected String field2; // violation, protected visibility is not allowed

 public int field3 = 42;  // violation, not static final, immutable,
                          // nor matching the pattern

 public long serialVersionUID = 1L;

 public static final int field4 = 42;

 public final int field5 = 42;          // violation, public immutable fields are not allowed
 public final java.lang.String notes;   // violation, public immutable fields are not allowed

 public final Set&lt;String&gt; mySet1 = new HashSet&lt;&gt;();  // violation, HashSet is mutable

 public final ImmutableSet&lt;String&gt; mySet2;           // violation,
                                                     // immutable type not in config

 public final ImmutableMap&lt;String, Object&gt; objects1; // violation,
                                                     // immutable type not in config

 @com.annotation.CustomAnnotation
 String annotatedString;

 @CustomAnnotation
 String shortCustomAnnotated;

 @com.google.common.annotations.VisibleForTesting
 public String testString = &quot;&quot;;
}
        </pre></div>
        
<p>
          To configure the check so that it allows protected visible members:
        </p>
        
<div class="source">
<pre>
&lt;module name=&quot;VisibilityModifier&quot;&gt;
  &lt;property name=&quot;protectedAllowed&quot; value=&quot;true&quot;/&gt;
&lt;/module&gt;
        </pre></div>
        
<p>Example of allowed protected visible members:</p>
        
<div class="source">
<pre>
public class MyClass {
 private int myPrivateField1;

 int field1;              // violation, must have a visibility modifier

 protected String field2;

 public int field3 = 42;  // violation, not static final, immutable,
                          // nor matching the pattern

 public long serialVersionUID = 1L;

 public static final int field4 = 42;

 public final int field5 = 42;          // violation, public immutable fields are not allowed
 public final java.lang.String notes;   // violation, public immutable fields are not allowed

 public final Set&lt;String&gt; mySet1 = new HashSet&lt;&gt;();  // violation, HashSet is mutable

 public final ImmutableSet&lt;String&gt; mySet2;           // violation,
                                                     // immutable type not in config

 public final ImmutableMap&lt;String, Object&gt; objects1; // violation,
                                                     // immutable type not in config

 @com.annotation.CustomAnnotation
 String annotatedString;      // violation, annotation is not configured

 @CustomAnnotation
 String shortCustomAnnotated; // violation, annotation is not configured

 @com.google.common.annotations.VisibleForTesting
 public String testString = &quot;&quot;;
}
        </pre></div>
        
<p>
          To configure the check so that it allows no public members:
        </p>
        
<div class="source">
<pre>
&lt;module name=&quot;VisibilityModifier&quot;&gt;
  &lt;property name=&quot;publicMemberPattern&quot; value=&quot;^$&quot;/&gt;
&lt;/module&gt;
        </pre></div>
        
<p>Example of not allowed public members:</p>
        
<div class="source">
<pre>
public class MyClass {
 private int myPrivateField1;

 int field1;              // violation, must have a visibility modifier

 protected String field2; // violation, protected visibility is not allowed

 public int field3 = 42;  // violation, not static final, immutable,
                          // nor matching the pattern

 public long serialVersionUID = 1L;  // Violation, not matched the pattern '^$'

 public static final int field4 = 42;

 public final int field5 = 42;          // violation, public immutable fields are not allowed
 public final java.lang.String notes;   // violation, public immutable fields are not allowed

 public final Set&lt;String&gt; mySet1 = new HashSet&lt;&gt;();  // violation, HashSet is mutable

 public final ImmutableSet&lt;String&gt; mySet2;           // violation,
                                                     // immutable type not in config

 public final ImmutableMap&lt;String, Object&gt; objects1; // violation,
                                                     // immutable type not in config

 @com.annotation.CustomAnnotation
 String annotatedString;      // violation, annotation is not configured

 @CustomAnnotation
 String shortCustomAnnotated; // violation, annotation is not configured

 @com.google.common.annotations.VisibleForTesting
 public String testString = &quot;&quot;;
}
        </pre></div>
        
<p>
          To configure the Check so that it allows public immutable fields
          (mostly for immutable classes):
        </p>
        
<div class="source">
<pre>
&lt;module name=&quot;VisibilityModifier&quot;&gt;
  &lt;property name=&quot;allowPublicImmutableFields&quot; value=&quot;true&quot;/&gt;
&lt;/module&gt;
        </pre></div>
        
<p>
          Example of allowed public immutable fields:
        </p>
        
<div class="source">
<pre>
public final class MyClass {
 private int myPrivateField1;

 int field1;              // violation, must have a visibility modifier

 protected String field2; // violation, protected visibility is not allowed

 public int field3 = 42;  // violation, not static final, immutable,
                          // nor matching the pattern

 public long serialVersionUID = 1L;

 public static final int field4 = 42;

 public final int field5 = 42;
 public final java.lang.String notes;

 public final Set&lt;String&gt; mySet1 = new HashSet&lt;&gt;();  // violation, HashSet is mutable

 public final ImmutableSet&lt;String&gt; mySet2;           // violation,
                                                     // immutable type not in config

 public final ImmutableMap&lt;String, Object&gt; objects1; // violation,
                                                     // immutable type not in config

 @com.annotation.CustomAnnotation
 String annotatedString;      // violation, annotation is not configured

 @CustomAnnotation
 String shortCustomAnnotated; // violation, annotation is not configured

 @com.google.common.annotations.VisibleForTesting
 public String testString = &quot;&quot;;
}
        </pre></div>
        
<p>
          To configure the Check in order to allow user specified immutable class names:
        </p>
        
<div class="source">
<pre>
&lt;module name=&quot;VisibilityModifier&quot;&gt;
  &lt;property name=&quot;allowPublicImmutableFields&quot; value=&quot;true&quot;/&gt;
  &lt;property name=&quot;immutableClassCanonicalNames&quot;
    value=&quot;com.google.common.collect.ImmutableSet, java.lang.String&quot;/&gt;
&lt;/module&gt;
        </pre></div>
        
<p>
          Example of allowed public immutable fields:
        </p>
        
<div class="source">
<pre>
public final class MyClass {
 private int myPrivateField1;

 int field1;              // violation, must have a visibility modifier

 protected String field2; // violation, protected visibility is not allowed

 public int field3 = 42;  // violation, not static final, immutable,
                          // nor matching the pattern

 public long serialVersionUID = 1L;

 public static final int field4 = 42;

 public final int field5 = 42;
 public final java.lang.String notes;

 public final Set&lt;String&gt; mySet1 = new HashSet&lt;&gt;();  // violation, HashSet is mutable

 public final ImmutableSet&lt;String&gt; mySet2;

 public final ImmutableMap&lt;String, Object&gt; objects1; // violation
                                                     // immutable type not in config

 @com.annotation.CustomAnnotation
 String annotatedString;      // violation, annotation is not configured

 @CustomAnnotation
 String shortCustomAnnotated; // violation, annotation is not configured

 @com.google.common.annotations.VisibleForTesting
 public String testString = &quot;&quot;;
}
        </pre></div>
        
<p>
          Note, if allowPublicImmutableFields is set to true, the check will also check whether
          generic type parameters are immutable. If at least one generic type parameter is mutable,
          there will be a violation.
        </p>
        
<div class="source">
<pre>
&lt;module name=&quot;VisibilityModifier&quot;&gt;
  &lt;property name=&quot;allowPublicImmutableFields&quot; value=&quot;true&quot;/&gt;
  &lt;property name=&quot;immutableClassCanonicalNames&quot;
    value=&quot;com.google.common.collect.ImmutableSet,
           com.google.common.collect.ImmutableMap,
           java.lang.String&quot;/&gt;
&lt;/module&gt;
        </pre></div>
        
<p>
          Example of how the check works:
        </p>
        
<div class="source">
<pre>
public final class MyClass {
 private int myPrivateField1;

 int field1;              // violation, must have a visibility modifier

 protected String field2; // violation, protected visibility is not allowed

 public int field3 = 42;  // violation, not static final, immutable,
                          // nor matching the pattern

 public long serialVersionUID = 1L;

 public static final int field4 = 42;

 public final int field5 = 42;
 public final java.lang.String notes;

 public final Set&lt;String&gt; mySet1 = new HashSet&lt;&gt;();  // violation, HashSet is mutable

 public final ImmutableSet&lt;String&gt; mySet2;

 public final ImmutableMap&lt;String, Object&gt; objects1; // violation
                                                     // 'Object' still considered as mutable

 @com.annotation.CustomAnnotation
 String annotatedString;      // violation, annotation is not configured

 @CustomAnnotation
 String shortCustomAnnotated; // violation, annotation is not configured

 @com.google.common.annotations.VisibleForTesting
 public String testString = &quot;&quot;;
}
        </pre></div>
        
<p>
          To configure the Check passing fields annotated with @com.annotation.CustomAnnotation:
        </p>
        
<div class="source">
<pre>
&lt;module name=&quot;VisibilityModifier&quot;&gt;
  &lt;property name=&quot;ignoreAnnotationCanonicalNames&quot;
    value=&quot;com.annotation.CustomAnnotation&quot;/&gt;
&lt;/module&gt;
        </pre></div>
        
<p>
          Example of allowed field:
        </p>
        
<div class="source">
<pre>
public final class MyClass {
 private int myPrivateField1;

 int field1;              // violation, must have a visibility modifier

 protected String field2; // violation, protected visibility is not allowed

 public int field3 = 42;  // violation, not static final, immutable,
                          // nor matching the pattern

 public long serialVersionUID = 1L;

 public static final int field4 = 42;

 public final int field5 = 42;          // violation, public immutable fields are not allowed
 public final java.lang.String notes;   // violation, public immutable fields are not allowed

 public final Set&lt;String&gt; mySet1 = new HashSet&lt;&gt;();  // violation, HashSet is mutable

 public final ImmutableSet&lt;String&gt; mySet2;           // violation,
                                                     // immutable type not in config

 public final ImmutableMap&lt;String, Object&gt; objects1; // violation,
                                                     // immutable type not in config

 @com.annotation.CustomAnnotation
 String annotatedString;

 @CustomAnnotation
 String shortCustomAnnotated;

 @com.google.common.annotations.VisibleForTesting
 public String testString = &quot;&quot;; // violation, annotation is not configured
}
        </pre></div>

        
<p>
          To configure the Check passing fields annotated with @org.junit.Rule,
          @org.junit.ClassRule and @com.google.common.annotations.VisibleForTesting annotations:
        </p>
        
<div class="source">
<pre>
&lt;module name=&quot;VisibilityModifier&quot;/&gt;
        </pre></div>
        
<p>
          Example of allowed fields:
        </p>
        
<div class="source">
<pre>
public final class MyClass {
 private int myPrivateField1;

 int field1;              // violation, must have a visibility modifier

 protected String field2; // violation, protected visibility is not allowed

 public int field3 = 42;  // violation, not static final, immutable,
                          // nor matching the pattern

 public long serialVersionUID = 1L;

 public static final int field4 = 42;

 public final int field5 = 42;          // violation, public immutable fields are not allowed
 public final java.lang.String notes;   // violation, public immutable fields are not allowed

 public final Set&lt;String&gt; mySet1 = new HashSet&lt;&gt;();  // violation, HashSet is mutable

 public final ImmutableSet&lt;String&gt; mySet2;           // violation,
                                                     // immutable type not in config

 public final ImmutableMap&lt;String, Object&gt; objects1; // violation,
                                                     // immutable type not in config

 @com.annotation.CustomAnnotation
 String annotatedString;      // violation, annotation is not configured

 @CustomAnnotation
 String shortCustomAnnotated; // violation, annotation is not configured

 @com.google.common.annotations.VisibleForTesting
 public String testString = &quot;&quot;;
}
        </pre></div>
        
<p>
          To configure the Check passing fields annotated with short annotation name:
        </p>
        
<div class="source">
<pre>
&lt;module name=&quot;VisibilityModifier&quot;&gt;
  &lt;property name=&quot;ignoreAnnotationCanonicalNames&quot;
    value=&quot;CustomAnnotation&quot;/&gt;
&lt;/module&gt;
        </pre></div>
        
<p>
          Example of allowed fields:
        </p>
        
<div class="source">
<pre>
public final class MyClass {
 private int myPrivateField1;

 int field1;              // violation, must have a visibility modifier

 protected String field2; // violation, protected visibility is not allowed

 public int field3 = 42;  // violation, not static final, immutable,
                          // nor matching the pattern

 public long serialVersionUID = 1L;

 public static final int field4 = 42;

 public final int field5 = 42;          // violation, public immutable fields are not allowed
 public final java.lang.String notes;   // violation, public immutable fields are not allowed

 public final Set&lt;String&gt; mySet1 = new HashSet&lt;&gt;();  // violation, HashSet is mutable

 public final ImmutableSet&lt;String&gt; mySet2;           // violation,
                                                     // immutable type not in config

 public final ImmutableMap&lt;String, Object&gt; objects1; // violation,
                                                     // immutable type not in config

 @com.annotation.CustomAnnotation
 String annotatedString;        // violation, annotation is not configured

 @CustomAnnotation
 String shortCustomAnnotated;

 @com.google.common.annotations.VisibleForTesting
 public String testString = &quot;&quot;; // violation, annotation is not configured
}
        </pre></div>
        
<p>
          To understand the difference between allowPublicImmutableFields and
          allowPublicFinalFields options, please, study the following examples.
        </p>
        
<p>
           1) To configure the check to use only 'allowPublicImmutableFields' option:
        </p>
        
<div class="source">
<pre>
&lt;module name=&quot;VisibilityModifier&quot;&gt;
  &lt;property name=&quot;allowPublicImmutableFields&quot; value=&quot;true&quot;/&gt;
&lt;/module&gt;
        </pre></div>
        
<p>
          Code example:
        </p>
        
<div class="source">
<pre>
public class InputPublicImmutable {
  public final int someIntValue; // violation
  public final ImmutableSet&lt;String&gt; includes; // violation
  public final java.lang.String notes; // violation
  public final BigDecimal value; // violation
  public final List list; // violation

  public InputPublicImmutable(Collection&lt;String&gt; includes,
        BigDecimal value, String notes, int someValue, List l) {
    this.includes = ImmutableSet.copyOf(includes);
    this.value = value;
    this.notes = notes;
    this.someIntValue = someValue;
    this.list = l;
  }
}
        </pre></div>
        
<p>
          2) To configure the check to use only 'allowPublicFinalFields' option:
        </p>
        
<div class="source">
<pre>
&lt;module name=&quot;VisibilityModifier&quot;&gt;
  &lt;property name=&quot;allowPublicFinalFields&quot; value=&quot;true&quot;/&gt;
&lt;/module&gt;
        </pre></div>
        
<p>
          Code example:
        </p>
        
<div class="source">
<pre>
public class InputPublicImmutable {
  public final int someIntValue; // ok
  public final ImmutableSet&lt;String&gt; includes; // ok
  public final java.lang.String notes; // ok
  public final BigDecimal value; // ok
  public final List list; // ok

  public InputPublicImmutable(Collection&lt;String&gt; includes,
        BigDecimal value, String notes, int someValue, List l) {
    this.includes = ImmutableSet.copyOf(includes);
    this.value = value;
    this.notes = notes;
    this.someIntValue = someValue;
    this.list = l;
  }
}
        </pre></div>
      </section>

      <a name="Example_of_Usage"></a><section id="Example_of_Usage">
<h3><a name="Example_of_Usage"></a>Example of Usage</h3>
        
<ul>
          
<li>
            <a class="externalLink" href="https://github.com/search?q=path%3Asrc%2Fmain%2Fresources%20path%3A**%2Fsun_checks.xml+repo%3Acheckstyle%2Fcheckstyle+VisibilityModifier">
            Sun Style</a>
          </li>
          
<li>
            <a class="externalLink" href="https://github.com/search?q=path%3Aconfig%20path%3A**%2Fcheckstyle-checks.xml+repo%3Acheckstyle%2Fcheckstyle+VisibilityModifier">
            Checkstyle Style</a>
          </li>
        </ul>
      </section>

      <a name="Violation_Messages"></a><section id="Violation_Messages">
<h3><a name="Violation_Messages"></a>Violation Messages</h3>
        
<ul>
          
<li>
            <a class="externalLink" href="https://github.com/search?q=path%3Asrc%2Fmain%2Fresources%2Fcom%2Fpuppycrawl%2Ftools%2Fcheckstyle%2Fchecks%2Fdesign%20path%3A**%2Fmessages*.properties+repo%3Acheckstyle%2Fcheckstyle+%22variable.notPrivate%22">
            variable.notPrivate</a>
          </li>
        </ul>
        
<p>
          All messages can be customized if the default message doesn't suit you.
          Please <a href="../../config.html#Custom_messages">see the documentation</a>
          to learn how to.
        </p>
      </section>

      <a name="Package"></a><section id="Package">
<h3><a name="Package"></a>Package</h3>
        
<p>
          com.puppycrawl.tools.checkstyle.checks.design
        </p>
      </section>

      <a name="Parent_Module"></a><section id="Parent_Module">
<h3><a name="Parent_Module"></a>Parent Module</h3>
        
<p>
          <a href="../../config.html#TreeWalker">TreeWalker</a>
        </p>
      </section>
    </section>
  

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        Copyright &#169;      2001&#x2013;2023..      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
