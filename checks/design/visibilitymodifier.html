<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0 from src/site/xdoc/checks/design/visibilitymodifier.xml at 2025-11-30
 | Rendered using Apache Maven Fluido Skin 2.0.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0" />
    <title>VisibilityModifier – checkstyle</title>
    <link rel="stylesheet" href="../../css/apache-maven-fluido-2.0.1.min.css" />
    <link rel="stylesheet" href="../../css/site.css" />
    <link rel="stylesheet" href="../../css/print.css" media="print" />
    <script src="../../js/apache-maven-fluido-2.0.1.min.js"></script>
<script type="text/javascript" src="../../js/checkstyle.js" defer async></script>
        <script type="text/javascript" src="../../js/anchors.js" defer async></script>
        <script type="text/javascript"
                src="../../js/google-analytics.js" defer async></script>
        <script type="text/javascript"
                src="../../js/copy-clipboard.js" defer async></script>
        <link rel="icon" href="../../images/favicon.png" type="image/x-icon" />
        <link rel="shortcut icon" href="../../images/favicon.ico" type="image/ico" />
  </head>
  <body>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1><a href="../.././"><img class="class java.lang.Object" src="../../images/header-checkstyle-logo.png" alt="Checkstyle" /></a></h1></div></div>
          <div class="pull-right"><div id="bannerRight"><h1><img class="class java.lang.Object" src="../../images/header-right-ruler.png" /></h1></div></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2025-11-30</li>
          <li id="projectVersion" class="pull-right"><span class="divider">|</span>Version: 12.2.0</li>
        <li class="pull-right"><a>toTop</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span4">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">About</li>
    <li><a href="../../index.html">Checkstyle</a></li>
    <li><a href="../../releasenotes.html">Release Notes</a></li>
    <li><a href="../../consulting.html">Consulting</a></li>
    <li><a href="../../sponsoring.html">Sponsoring</a></li>
   <li class="nav-header">Documentation</li>
    <li><a href="../../config.html"><span class="icon-chevron-down"></span>Configuration</a>
     <ul class="nav nav-list">
      <li><a href="../../property_types.html">Property Types</a></li>
      <li><a href="../../config_system_properties.html">System Properties</a></li>
     </ul></li>
    <li><a href="../../running.html"><span class="icon-chevron-down"></span>Running</a>
     <ul class="nav nav-list">
      <li><a href="../../anttask.html">Ant Task</a></li>
      <li><a href="../../cmdline.html">Command Line</a></li>
      <li><a href="../../result_reports.html">Result Reports</a></li>
     </ul></li>
    <li><a href="../../checks.html"><span class="icon-chevron-down"></span>Checks</a>
     <ul class="nav nav-list">
      <li><a href="../../checks/annotation/index.html"><span class="icon-chevron-right"></span>Annotations</a></li>
      <li><a href="../../checks/blocks/index.html"><span class="icon-chevron-right"></span>Block Checks</a></li>
      <li><a href="../../checks/design/index.html"><span class="icon-chevron-down"></span>Class Design</a>
       <ul class="nav nav-list">
        <li><a href="../../checks/design/designforextension.html">DesignForExtension</a></li>
        <li><a href="../../checks/design/finalclass.html">FinalClass</a></li>
        <li><a href="../../checks/design/hideutilityclassconstructor.html">HideUtilityClassConstructor</a></li>
        <li><a href="../../checks/design/innertypelast.html">InnerTypeLast</a></li>
        <li><a href="../../checks/design/interfaceistype.html">InterfaceIsType</a></li>
        <li><a href="../../checks/design/mutableexception.html">MutableException</a></li>
        <li><a href="../../checks/design/onetoplevelclass.html">OneTopLevelClass</a></li>
        <li><a href="../../checks/design/sealedshouldhavepermitslist.html">SealedShouldHavePermitsList</a></li>
        <li><a href="../../checks/design/throwscount.html">ThrowsCount</a></li>
        <li class="active"><a>VisibilityModifier</a></li>
       </ul></li>
      <li><a href="../../checks/coding/index.html"><span class="icon-chevron-right"></span>Coding</a></li>
      <li><a href="../../checks/header/index.html"><span class="icon-chevron-right"></span>Headers</a></li>
      <li><a href="../../checks/imports/index.html"><span class="icon-chevron-right"></span>Imports</a></li>
      <li><a href="../../checks/javadoc/index.html"><span class="icon-chevron-right"></span>Javadoc Comments</a></li>
      <li><a href="../../checks/metrics/index.html"><span class="icon-chevron-right"></span>Metrics</a></li>
      <li><a href="../../checks/misc/index.html"><span class="icon-chevron-right"></span>Miscellaneous</a></li>
      <li><a href="../../checks/modifier/index.html"><span class="icon-chevron-right"></span>Modifiers</a></li>
      <li><a href="../../checks/naming/index.html"><span class="icon-chevron-right"></span>Naming Conventions</a></li>
      <li><a href="../../checks/regexp/index.html"><span class="icon-chevron-right"></span>Regexp</a></li>
      <li><a href="../../checks/sizes/index.html"><span class="icon-chevron-right"></span>Size Violations</a></li>
      <li><a href="../../checks/whitespace/index.html"><span class="icon-chevron-right"></span>Whitespace</a></li>
     </ul></li>
    <li><a href="../../filters/index.html"><span class="icon-chevron-right"></span>Filters</a></li>
    <li><a href="../../filefilters/index.html"><span class="icon-chevron-right"></span>File Filters</a></li>
    <li><a href="../../style_configs.html"><span class="icon-chevron-down"></span>Style Configurations</a>
     <ul class="nav nav-list">
      <li><a href="../../google_style.html">Google&apos;s Style</a></li>
      <li><a href="../../sun_style.html">Sun&apos;s Style</a></li>
     </ul></li>
   <li class="nav-header">Developers</li>
    <li><a href="../../extending.html"><span class="icon-chevron-down"></span>Extending Checkstyle</a>
     <ul class="nav nav-list">
      <li><a href="../../writingchecks.html">Writing Checks</a></li>
      <li><a href="../../writingjavadocchecks.html">Writing Javadoc Checks</a></li>
      <li><a href="../../writingfilters.html">Writing Filters</a></li>
      <li><a href="../../writingfilefilters.html">Writing File Filters</a></li>
      <li><a href="../../writinglisteners.html">Writing Listeners</a></li>
     </ul></li>
    <li><a href="../../contributing.html">Contributing</a></li>
    <li><a href="../../beginning_development.html"><span class="icon-chevron-down"></span>Beginning Development</a>
     <ul class="nav nav-list">
      <li><a href="../../eclipse.html">Eclipse IDE</a></li>
      <li><a href="../../netbeans.html">NetBeans IDE</a></li>
      <li><a href="../../idea.html">IntelliJ IDE</a></li>
     </ul></li>
    <li><a href="../../apidocs/index.html">Javadoc</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="../../project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="../../project-reports.html"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://github.com/checkstyle/checkstyle" class="builtBy"><img class="builtBy" src="../../images/github_logo_social_coding_outlined.png" alt="GitHub" /></a>
<a href="https://twitter.com/checkstyle_java/" class="builtBy"><img class="builtBy" src="../../images/twitter_button.png" alt="Twitter" /></a>
<a href="https://stackoverflow.com/questions/tagged/checkstyle" class="builtBy"><img class="builtBy" src="../../images/stackoverflow.jpeg" alt="Stackoverflow" /></a>
<a href="https://groups.google.com/forum/#!forum/checkstyle" class="builtBy"><img class="builtBy" src="../../images/groups.png" alt="GoogleGroups" /></a>
<a href="https://www.ej-technologies.com/products/jprofiler/overview.html" class="builtBy"><img class="builtBy" src="https://www.ej-technologies.com/images/product_banners/jprofiler_medium.png" alt="JProfiler" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span8">

  
    <section><a id="VisibilityModifier"></a>
<h1>VisibilityModifier</h1>
      
<p>Since Checkstyle 3.0</p>
      <a id="VisibilityModifier_Description"></a><section id="VisibilityModifier_Description"><a id="Description"></a>
<h2>Description</h2>
        
<div>
          Checks visibility of class members. Only static final, immutable or annotated
          by specified annotation members may be public;
          other class members must be private unless the property <code>protectedAllowed</code>
          or <code>packageAllowed</code> is set.
        </div>

        
<p>
          Public members are not flagged if the name matches the public
          member regular expression (contains <code>&quot;^serialVersionUID$&quot;</code> by
          default).
        </p>

        
<p>
          Note that Checkstyle 2 used to include <code>&quot;^f[A-Z][a-zA-Z0-9]*$&quot;</code> in the default pattern
          to allow names used in container-managed persistence for Enterprise JavaBeans (EJB) 1.1 with
          the default settings. With EJB 2.0 it is no longer necessary to have public access for
          persistent fields, so the default has been changed.
        </p>

        
<p>
          Rationale: Enforce encapsulation.
        </p>

        
<p>
          Check also has options making it less strict:
        </p>

        
<p>
          <b>ignoreAnnotationCanonicalNames</b> - the list of annotations which ignore
          variables in consideration. If user want to provide short annotation name that
          type will match to any named the same type without consideration of package.
        </p>

        
<p>
          <b>allowPublicFinalFields</b> - which allows public final fields.
        </p>

        
<p>
          <b>allowPublicImmutableFields</b> - which allows immutable fields to be
          declared as public if defined in final class.
        </p>

        
<p>
          Field is known to be immutable if:
        </p>
        
<ul>
        
<li>It's declared as final</li>
        
<li>Has either a primitive type or instance of class user defined to be immutable
          (such as String, ImmutableCollection from Guava, etc.)</li>
        </ul>

        
<p>
          Classes known to be immutable are listed in <b>immutableClassCanonicalNames</b>
          by their canonical names.
        </p>

        
<p>
          Property Rationale: Forcing all fields of class to have private modifier by default is
          good in most cases, but in some cases it drawbacks in too much boilerplate get/set code.
          One of such cases are immutable classes.
        </p>

        
<p>
          Restriction: Check doesn't check if class is immutable, there's no checking
          if accessory methods are missing and all fields are immutable, we only check
          if current field is immutable or final.
          Under the flag <b>allowPublicImmutableFields</b>, the enclosing class must
          also be final, to encourage immutability.
          Under the flag <b>allowPublicFinalFields</b>, the final modifier
          on the enclosing class is optional.
        </p>

        
<p>
          Star imports are out of scope of this Check. So if one of type imported via
          star import collides with user specified one by its short name - there
          won't be Check's violation.
        </p>
      </section>

      <a id="VisibilityModifier_Properties"></a><section id="VisibilityModifier_Properties"><a id="Properties"></a>
<h2>Properties</h2>
        
<div class="wrapper">
          
<table class="table table-striped">
            
<tr class="a">
              
<th>name</th>
              
<th>description</th>
              
<th>type</th>
              
<th>default value</th>
              
<th>since</th>
            </tr>
            
<tr class="b">
              
<td><a id="allowPublicFinalFields"></a><a href="#allowPublicFinalFields">allowPublicFinalFields</a></td>
              
<td>Allow final fields to be declared as public.</td>
              
<td><a href="../../property_types.html#boolean">boolean</a></td>
              
<td><code>false</code></td>
              
<td>7.0</td>
            </tr>
            
<tr class="a">
              
<td><a id="allowPublicImmutableFields"></a><a href="#allowPublicImmutableFields">allowPublicImmutableFields</a></td>
              
<td>Allow immutable fields to be declared as public if defined in final class.</td>
              
<td><a href="../../property_types.html#boolean">boolean</a></td>
              
<td><code>false</code></td>
              
<td>6.4</td>
            </tr>
            
<tr class="b">
              
<td><a id="ignoreAnnotationCanonicalNames"></a><a href="#ignoreAnnotationCanonicalNames">ignoreAnnotationCanonicalNames</a></td>
              
<td>Specify annotations canonical names which ignore variables in consideration.</td>
              
<td><a href="../../property_types.html#String.5B.5D">String[]</a></td>
              
<td><code>com.google.common.annotations.VisibleForTesting, org.junit.ClassRule, org.junit.Rule</code></td>
              
<td>6.5</td>
            </tr>
            
<tr class="a">
              
<td><a id="immutableClassCanonicalNames"></a><a href="#immutableClassCanonicalNames">immutableClassCanonicalNames</a></td>
              
<td>Specify immutable classes canonical names.</td>
              
<td><a href="../../property_types.html#String.5B.5D">String[]</a></td>
              
<td><code>java.io.File, java.lang.Boolean, java.lang.Byte, java.lang.Character, java.lang.Double, java.lang.Float, java.lang.Integer, java.lang.Long, java.lang.Short, java.lang.StackTraceElement, java.lang.String, java.math.BigDecimal, java.math.BigInteger, java.net.Inet4Address, java.net.Inet6Address, java.net.InetSocketAddress, java.net.URI, java.net.URL, java.util.Locale, java.util.UUID</code></td>
              
<td>6.4.1</td>
            </tr>
            
<tr class="b">
              
<td><a id="packageAllowed"></a><a href="#packageAllowed">packageAllowed</a></td>
              
<td>Control whether package visible members are allowed.</td>
              
<td><a href="../../property_types.html#boolean">boolean</a></td>
              
<td><code>false</code></td>
              
<td>3.0</td>
            </tr>
            
<tr class="a">
              
<td><a id="protectedAllowed"></a><a href="#protectedAllowed">protectedAllowed</a></td>
              
<td>Control whether protected members are allowed.</td>
              
<td><a href="../../property_types.html#boolean">boolean</a></td>
              
<td><code>false</code></td>
              
<td>3.0</td>
            </tr>
            
<tr class="b">
              
<td><a id="publicMemberPattern"></a><a href="#publicMemberPattern">publicMemberPattern</a></td>
              
<td>Specify pattern for public members that should be ignored.</td>
              
<td><a href="../../property_types.html#Pattern">Pattern</a></td>
              
<td><code>^serialVersionUID$</code></td>
              
<td>3.0</td>
            </tr>
          </table>
        </div>
      </section>

      <a id="VisibilityModifier_Examples"></a><section id="VisibilityModifier_Examples"><a id="Examples"></a>
<h2>Examples</h2>
        
<p id="Example1-config">
          To configure the check:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-xml">
&lt;module name=&quot;Checker&quot;&gt;
  &lt;module name=&quot;TreeWalker&quot;&gt;
    &lt;module name=&quot;VisibilityModifier&quot;/&gt;
  &lt;/module&gt;
&lt;/module&gt;
</code></pre></div>
        
<p id="Example1-code">Example with default values:</p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-java">
class Example1 {
  private int myPrivateField1;

  int field1; // violation, must have a visibility modifier 'must be private'

  protected String field2; // violation, protected not allowed 'must be private'

  public int field3 = 42; // violation, not final 'must be private'

  public long serialVersionUID = 1L;

  public static final int field4 = 42;

  // violation below, public immutable fields are not allowed 'must be private'
  public final int field5 = 42;

  // violation below, public immutable fields are not allowed 'must be private'
  public final java.lang.String notes = null;

  // violation below, HashSet is mutable 'must be private'
  public final Set&lt;String&gt; mySet1 = new HashSet&lt;&gt;();

  // violation below, immutable type not in config 'must be private'
  public final ImmutableSet&lt;String&gt; mySet2 = null;

  // violation below, immutable type not in config 'must be private'
  public final ImmutableMap&lt;String, Object&gt; objects1 = null;

  @java.lang.Deprecated
  String annotatedString; // violation, annotation not configured 'must be private'

  @Deprecated
  // violation below, annotation not configured 'must be private'
  String shortCustomAnnotated;

  @com.google.common.annotations.VisibleForTesting
  public String testString = &quot;&quot;;
}
</code></pre></div><hr class="example-separator" />
        
<p id="Example2-config">
          To configure the check so that it allows package visible members:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-xml">
&lt;module name=&quot;Checker&quot;&gt;
  &lt;module name=&quot;TreeWalker&quot;&gt;
    &lt;module name=&quot;VisibilityModifier&quot;&gt;
      &lt;property name=&quot;packageAllowed&quot; value=&quot;true&quot;/&gt;
    &lt;/module&gt;
  &lt;/module&gt;
&lt;/module&gt;
</code></pre></div>
        
<p id="Example2-code">Example of allowed package visible members:</p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-java">
class Example2 {
  private int myPrivateField1;

  int field1;

  protected String field2; // violation, protected not allowed 'must be private'

  // violation below, not final nor matching pattern 'must be private'
  public int field3 = 42;

  public long serialVersionUID = 1L;

  public static final int field4 = 42;

  // violation below, public immutable fields are not allowed 'must be private'
  public final int field5 = 42;

  // violation below, public immutable fields are not allowed 'must be private'
  public final java.lang.String notes = null;

  // violation below, HashSet is mutable 'must be private'
  public final Set&lt;String&gt; mySet1 = new HashSet&lt;&gt;();

  // violation below, immutable type not in config 'must be private'
  public final ImmutableSet&lt;String&gt; mySet2 = null;

  // violation below, immutable type not in config 'must be private'
  public final ImmutableMap&lt;String, Object&gt; objects1 = null;

  @java.lang.Deprecated
  String annotatedString;

  @Deprecated
  String shortCustomAnnotated;

  @com.google.common.annotations.VisibleForTesting
  public String testString = &quot;&quot;;
}
</code></pre></div><hr class="example-separator" />
        
<p id="Example3-config">
          To configure the check so that it allows protected visible members:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-xml">
&lt;module name=&quot;Checker&quot;&gt;
  &lt;module name=&quot;TreeWalker&quot;&gt;
    &lt;module name=&quot;VisibilityModifier&quot;&gt;
      &lt;property name=&quot;protectedAllowed&quot; value=&quot;true&quot;/&gt;
    &lt;/module&gt;
  &lt;/module&gt;
&lt;/module&gt;
</code></pre></div>
        
<p id="Example3-code">Example of allowed protected visible members:</p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-java">
class Example3 {
  private int myPrivateField1;

  int field1; // violation, must have visibility modifier 'must be private'

  protected String field2;

  // violation below, not final nor matching pattern 'must be private'
  public int field3 = 42;

  public long serialVersionUID = 1L;

  public static final int field4 = 42;

  // violation below, public immutable fields are not allowed 'must be private'
  public final int field5 = 42;

  // violation below, public immutable fields are not allowed 'must be private'
  public final java.lang.String notes = null;

  // violation below, HashSet is mutable 'must be private'
  public final Set&lt;String&gt; mySet1 = new HashSet&lt;&gt;();

  // violation below, immutable type not in config 'must be private'
  public final ImmutableSet&lt;String&gt; mySet2 = null;

  // violation below, immutable type not in config 'must be private'
  public final ImmutableMap&lt;String, Object&gt; objects1 = null;

  @java.lang.Deprecated
  String annotatedString; // violation, annotation not configured 'must be private'

  @Deprecated
  // violation below, annotation not configured 'must be private'
  String shortCustomAnnotated;

  @com.google.common.annotations.VisibleForTesting
  public String testString = &quot;&quot;;
}
</code></pre></div><hr class="example-separator" />
        
<p id="Example4-config">
          To configure the check so that it allows no public members:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-xml">
&lt;module name=&quot;Checker&quot;&gt;
  &lt;module name=&quot;TreeWalker&quot;&gt;
    &lt;module name=&quot;VisibilityModifier&quot;&gt;
      &lt;property name=&quot;publicMemberPattern&quot; value=&quot;^$&quot;/&gt;
    &lt;/module&gt;
  &lt;/module&gt;
&lt;/module&gt;
</code></pre></div>
        
<p id="Example4-code">Example of not allowed public members:</p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-java">
class Example4 {
  private int myPrivateField1;

  int field1; // violation, must have visibility modifier 'must be private'

  protected String field2; // violation, protected not allowed 'must be private'

  // violation below, not final nor matching pattern 'must be private'
  public int field3 = 42;

  // violation below, doesn't match the pattern 'must be private'
  public long serialVersionUID = 1L;

  public static final int field4 = 42;

  // violation below, public immutable fields are not allowed 'must be private'
  public final int field5 = 42;

  // violation below, public immutable fields are not allowed 'must be private'
  public final java.lang.String notes = null;

  // violation below, HashSet is mutable 'must be private'
  public final Set&lt;String&gt; mySet1 = new HashSet&lt;&gt;();

  // violation below, immutable type not in config 'must be private'
  public final ImmutableSet&lt;String&gt; mySet2 = null;

  // violation below, immutable type not in config 'must be private'
  public final ImmutableMap&lt;String, Object&gt; objects1 = null;

  @java.lang.Deprecated
  String annotatedString; // violation, annotation not configured 'must be private'

  @Deprecated
  // violation below, annotation not configured 'must be private'
  String shortCustomAnnotated;

  @com.google.common.annotations.VisibleForTesting
  public String testString = &quot;&quot;;
}
</code></pre></div><hr class="example-separator" />
        
<p id="Example5-config">
          To configure the Check so that it allows public immutable fields
          (mostly for immutable classes):
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-xml">
&lt;module name=&quot;Checker&quot;&gt;
  &lt;module name=&quot;TreeWalker&quot;&gt;
    &lt;module name=&quot;VisibilityModifier&quot;&gt;
      &lt;property name=&quot;allowPublicImmutableFields&quot; value=&quot;true&quot;/&gt;
    &lt;/module&gt;
  &lt;/module&gt;
&lt;/module&gt;
</code></pre></div>
        
<p id="Example5-code">
          Example of allowed public immutable fields:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-java">
class Example5 {
  private int myPrivateField1;

  int field1; // violation, must have visibility modifier 'must be private'

  protected String field2; // violation, protected not allowed 'must be private'

  // violation below, not final nor matching pattern 'must be private'
  public int field3 = 42;

  public long serialVersionUID = 1L;

  public static final int field4 = 42;

  public final int field5 = 42; // violation 'must be private'

  public final java.lang.String notes = null; // violation 'must be private'

  // violation below, HashSet is mutable 'must be private'
  public final Set&lt;String&gt; mySet1 = new HashSet&lt;&gt;();

  // violation below, immutable type not in config 'must be private'
  public final ImmutableSet&lt;String&gt; mySet2 = null;

  // violation below, immutable type not in config 'must be private'
  public final ImmutableMap&lt;String, Object&gt; objects1 = null;

  @java.lang.Deprecated
  String annotatedString; // violation, annotation not configured 'must be private'

  @Deprecated
  // violation below, annotation not configured 'must be private'
  String shortCustomAnnotated;

  @com.google.common.annotations.VisibleForTesting
  public String testString = &quot;&quot;;
}
</code></pre></div><hr class="example-separator" />
        
<p id="Example6-config">
          To configure the Check in order to allow user specified immutable class names:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-xml">
&lt;module name=&quot;Checker&quot;&gt;
  &lt;module name=&quot;TreeWalker&quot;&gt;
    &lt;module name=&quot;VisibilityModifier&quot;&gt;
      &lt;property name=&quot;allowPublicImmutableFields&quot; value=&quot;true&quot;/&gt;
      &lt;property name=&quot;immutableClassCanonicalNames&quot;
                value=&quot;com.google.common.collect.ImmutableSet,
                       java.lang.String&quot;/&gt;
    &lt;/module&gt;
  &lt;/module&gt;
&lt;/module&gt;
</code></pre></div>
        
<p id="Example6-code">
          Example of allowed public immutable fields:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-java">
class Example6 {
  private int myPrivateField1;

  int field1; // violation, must have visibility modifier 'must be private'

  protected String field2; // violation, protected not allowed 'must be private'

  // violation below, not final nor matching pattern 'must be private'
  public int field3 = 42;

  public long serialVersionUID = 1L;

  public static final int field4 = 42;

  public final int field5 = 42; // violation 'must be private'

  public final java.lang.String notes = null; // violation 'must be private'

  // violation below, HashSet is mutable 'must be private'
  public final Set&lt;String&gt; mySet1 = new HashSet&lt;&gt;();

  // violation below, immutable type not in config 'must be private'
  public final ImmutableSet&lt;String&gt; mySet2 = null;

  // violation below, immutable type not in config 'must be private'
  public final ImmutableMap&lt;String, Object&gt; objects1 = null;

  @java.lang.Deprecated
  String annotatedString; // violation, annotation not configured 'must be private'

  @Deprecated
  // violation below, annotation not configured 'must be private'
  String shortCustomAnnotated;

  @com.google.common.annotations.VisibleForTesting
  public String testString = &quot;&quot;;
}
</code></pre></div><hr class="example-separator" />
        
<p id="Example7-config">
          Note, if allowPublicImmutableFields is set to true, the check will also check whether
          generic type parameters are immutable. If at least one generic type parameter is mutable,
          there will be a violation.
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-xml">
&lt;module name=&quot;Checker&quot;&gt;
  &lt;module name=&quot;TreeWalker&quot;&gt;
    &lt;module name=&quot;VisibilityModifier&quot;&gt;
      &lt;property name=&quot;allowPublicImmutableFields&quot; value=&quot;true&quot;/&gt;
      &lt;property name=&quot;immutableClassCanonicalNames&quot;
                value=&quot;com.google.common.collect.ImmutableSet,
                       java.lang.String, com.google.common.collect.ImmutableMap&quot;/&gt;
    &lt;/module&gt;
  &lt;/module&gt;
&lt;/module&gt;
</code></pre></div>
        
<p id="Example7-code">
          Example of how the check works:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-java">
class Example7 {
  private int myPrivateField1;

  int field1; // violation, must have visibility modifier 'must be private'

  protected String field2; // violation, protected not allowed 'must be private'

  // violation below, not final nor matching pattern 'must be private'
  public int field3 = 42;

  public long serialVersionUID = 1L;

  public static final int field4 = 42;

  public final int field5 = 42; // violation 'must be private'

  public final java.lang.String notes = null; // violation 'must be private'

  // violation below, HashSet is mutable 'must be private'
  public final Set&lt;String&gt; mySet1 = new HashSet&lt;&gt;();

  // violation below, immutable type not in config 'must be private'
  public final ImmutableSet&lt;String&gt; mySet2 = null;

  // violation below, immutable type not in config 'must be private'
  public final ImmutableMap&lt;String, Object&gt; objects1 = null;

  @java.lang.Deprecated
  String annotatedString; // violation, annotation not configured 'must be private'

  @Deprecated
  // violation below, annotation not configured 'must be private'
  String shortCustomAnnotated;

  @com.google.common.annotations.VisibleForTesting
  public String testString = &quot;&quot;;
}
</code></pre></div><hr class="example-separator" />
        
<p id="Example8-config">
          To configure the Check passing fields annotated with @java.lang.Deprecated:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-xml">
&lt;module name=&quot;Checker&quot;&gt;
  &lt;module name=&quot;TreeWalker&quot;&gt;
    &lt;module name=&quot;VisibilityModifier&quot;&gt;
      &lt;property name=&quot;ignoreAnnotationCanonicalNames&quot;
                value=&quot;java.lang.Deprecated&quot;/&gt;
    &lt;/module&gt;
  &lt;/module&gt;
&lt;/module&gt;
</code></pre></div>
        
<p id="Example8-code">
          Example of allowed field:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-java">
class Example8 {
  private int myPrivateField1;

  int field1; // violation, must have visibility modifier 'must be private'

  protected String field2; // violation, protected not allowed 'must be private'

  // violation below, not final nor matching pattern 'must be private'
  public int field3 = 42;

  public long serialVersionUID = 1L;

  public static final int field4 = 42;

  public final int field5 = 42; // violation 'must be private'

  public final java.lang.String notes = null; // violation 'must be private'

  // violation below, HashSet is mutable 'must be private'
  public final Set&lt;String&gt; mySet1 = new HashSet&lt;&gt;();

  // violation below, immutable type not in config 'must be private'
  public final ImmutableSet&lt;String&gt; mySet2 = null;

  // violation below, immutable type not in config 'must be private'
  public final ImmutableMap&lt;String, Object&gt; objects1 = null;

  @java.lang.Deprecated
  String annotatedString;

  @Deprecated
  String shortCustomAnnotated;

  @com.google.common.annotations.VisibleForTesting
  // violation below, annotation not configured 'must be private'
  public String testString = &quot;&quot;;
}
</code></pre></div><hr class="example-separator" />
        
<p id="Example9-config">
          To configure the Check passing fields annotated with @org.junit.Rule,
          @org.junit.ClassRule and @com.google.common.annotations.VisibleForTesting annotations:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-xml">
&lt;module name=&quot;Checker&quot;&gt;
  &lt;module name=&quot;TreeWalker&quot;&gt;
    &lt;module name=&quot;VisibilityModifier&quot;/&gt;
  &lt;/module&gt;
&lt;/module&gt;
</code></pre></div>
        
<p id="Example9-code">
          Example of allowed fields:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-java">
class Example9 {
  private int myPrivateField1;

  int field1; // violation, must have visibility modifier 'must be private'

  protected String field2; // violation, protected not allowed 'must be private'

  // violation below, not final nor matching pattern 'must be private'
  public int field3 = 42;

  public long serialVersionUID = 1L;

  public static final int field4 = 42;

  public final int field5 = 42; // violation 'must be private'

  public final java.lang.String notes = null; // violation 'must be private'

  // violation below, HashSet is mutable 'must be private'
  public final Set&lt;String&gt; mySet1 = new HashSet&lt;&gt;();

  // violation below, immutable type not in config 'must be private'
  public final ImmutableSet&lt;String&gt; mySet2 = null;

  // violation below, immutable type not in config 'must be private'
  public final ImmutableMap&lt;String, Object&gt; objects1 = null;

  @java.lang.Deprecated
  String annotatedString; // violation, annotation not configured 'must be private'

  @Deprecated
  // violation below, annotation not configured 'must be private'
  String shortCustomAnnotated;

  @com.google.common.annotations.VisibleForTesting
  public String testString = &quot;&quot;;
}
</code></pre></div><hr class="example-separator" />
        
<p id="Example10-config">
          To configure the Check passing fields annotated with short annotation name:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-xml">
&lt;module name=&quot;Checker&quot;&gt;
  &lt;module name=&quot;TreeWalker&quot;&gt;
    &lt;module name=&quot;VisibilityModifier&quot;&gt;
      &lt;property name=&quot;ignoreAnnotationCanonicalNames&quot; value=&quot;Deprecated&quot;/&gt;
    &lt;/module&gt;
  &lt;/module&gt;
&lt;/module&gt;
</code></pre></div>
        
<p id="Example10-code">
          Example of allowed fields:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-java">
class Example10 {
  private int myPrivateField1;

  int field1; // violation, must have visibility modifier 'must be private'

  protected String field2; // violation, protected not allowed 'must be private'

  // violation below, not final nor matching pattern 'must be private'
  public int field3 = 42;

  public long serialVersionUID = 1L;

  public static final int field4 = 42;

  public final int field5 = 42; // violation 'must be private'

  public final java.lang.String notes = null; // violation 'must be private'

  // violation below, HashSet is mutable 'must be private'
  public final Set&lt;String&gt; mySet1 = new HashSet&lt;&gt;();

  // violation below, immutable type not in config 'must be private'
  public final ImmutableSet&lt;String&gt; mySet2 = null;

  // violation below, immutable type not in config 'must be private'
  public final ImmutableMap&lt;String, Object&gt; objects1 = null;

  @java.lang.Deprecated
  String annotatedString; // violation, annotation not configured 'must be private'

  @Deprecated
  String shortCustomAnnotated;

  @com.google.common.annotations.VisibleForTesting
  // violation below, annotation not configured 'must be private'
  public String testString = &quot;&quot;;
}
</code></pre></div>
        
<p>
          To understand the difference between allowPublicImmutableFields and
          allowPublicFinalFields options, please, study the following examples.
        </p><hr class="example-separator" />
        
<p id="Example11-config">
           1) To configure the check to use only 'allowPublicImmutableFields' option:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-xml">
&lt;module name=&quot;Checker&quot;&gt;
  &lt;module name=&quot;TreeWalker&quot;&gt;
    &lt;module name=&quot;VisibilityModifier&quot;&gt;
      &lt;property name=&quot;allowPublicImmutableFields&quot; value=&quot;true&quot;/&gt;
    &lt;/module&gt;
  &lt;/module&gt;
&lt;/module&gt;
</code></pre></div>
        
<p id="Example11-code">
          Code example:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-java">
class Example11 {
  public final int someIntValue = 0; // violation 'must be private'

  public final ImmutableSet&lt;String&gt; includes = null; // violation 'must be private'

  public final java.lang.String notes = &quot;&quot;; // violation 'must be private'

  public final BigDecimal value = null; // violation 'must be private'

  public final List list = null; // violation 'must be private'
}
</code></pre></div><hr class="example-separator" />
        
<p id="Example12-config">
          2) To configure the check to use only 'allowPublicFinalFields' option:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-xml">
&lt;module name=&quot;Checker&quot;&gt;
  &lt;module name=&quot;TreeWalker&quot;&gt;
    &lt;module name=&quot;VisibilityModifier&quot;&gt;
      &lt;property name=&quot;allowPublicFinalFields&quot; value=&quot;true&quot;/&gt;
    &lt;/module&gt;
  &lt;/module&gt;
&lt;/module&gt;
</code></pre></div>
        
<p id="Example12-code">
          Code example:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-java">
class Example12 {
  public final int someIntValue = 0;

  public final ImmutableSet&lt;String&gt; includes = null;

  public final java.lang.String notes = &quot;&quot;;

  public final BigDecimal value = null;

  public final List list = null;
}
</code></pre></div>
      </section>

      <a id="VisibilityModifier_Example_of_Usage"></a><section id="VisibilityModifier_Example_of_Usage"><a id="Example_of_Usage"></a>
<h2>Example of Usage</h2>
        
<ul>
          
<li>
            <a href="https://github.com/search?q=path%3Asrc%2Fmain%2Fresources%20path%3A**%2Fsun_checks.xml+repo%3Acheckstyle%2Fcheckstyle+VisibilityModifier" class="externalLink">
            Sun Style</a>
          </li>
          
<li>
            <a href="https://github.com/search?q=path%3Aconfig%20path%3A**%2Fcheckstyle-checks.xml+repo%3Acheckstyle%2Fcheckstyle+VisibilityModifier" class="externalLink">
            Checkstyle Style</a>
          </li>
        </ul>
      </section>

      <a id="VisibilityModifier_Violation_Messages"></a><section id="VisibilityModifier_Violation_Messages"><a id="Violation_Messages"></a>
<h2>Violation Messages</h2>
        
<ul>
          
<li>
            <a href="https://github.com/search?q=path%3Asrc%2Fmain%2Fresources%2Fcom%2Fpuppycrawl%2Ftools%2Fcheckstyle%2Fchecks%2Fdesign%20path%3A**%2Fmessages*.properties+repo%3Acheckstyle%2Fcheckstyle+%22variable.notPrivate%22" class="externalLink">
              variable.notPrivate
            </a>
          </li>
        </ul>
        
<p>
          All messages can be customized if the default message doesn't suit you.
          Please <a href="../../config.html#Custom_messages">see the documentation</a>
          to learn how to.
        </p>
      </section>

      <a id="VisibilityModifier_Package"></a><section id="VisibilityModifier_Package"><a id="Package"></a>
<h2>Package</h2>
        
<p>
          com.puppycrawl.tools.checkstyle.checks.design
        </p>
      </section>

      <a id="VisibilityModifier_Parent_Module"></a><section id="VisibilityModifier_Parent_Module"><a id="Parent_Module"></a>
<h2>Parent Module</h2>
        
<p>
          <a href="../../config.html#TreeWalker">TreeWalker</a>
        </p>
      </section>
    </section>
  
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2001–2025
</p>
        </div>
      </div>
    </footer>
  </body>
</html>
