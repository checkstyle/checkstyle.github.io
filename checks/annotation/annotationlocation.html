<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0 from src/site/xdoc/checks/annotation/annotationlocation.xml at 2025-04-02
 | Rendered using Apache Maven Fluido Skin 2.0.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0" />
    <title>AnnotationLocation â€“ checkstyle</title>
    <link rel="stylesheet" href="../../css/apache-maven-fluido-2.0.1.min.css" />
    <link rel="stylesheet" href="../../css/site.css" />
    <link rel="stylesheet" href="../../css/print.css" media="print" />
    <script src="../../js/apache-maven-fluido-2.0.1.min.js"></script>
<script type="text/javascript" src="../../js/checkstyle.js"></script>
        <script type="text/javascript" src="../../js/anchors.js"></script>
        <script type="text/javascript" src="../../js/google-analytics.js"></script>
        <script type="text/javascript" src="../../js/copy-clipboard.js"></script>
        <link rel="icon" href="../../images/favicon.png" type="image/x-icon" />
        <link rel="shortcut icon" href="../../images/favicon.ico" type="image/ico" />
  </head>
  <body>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1><a href="../.././"><img class="class java.lang.Object" src="../../images/header-checkstyle-logo.png" alt="Checkstyle" /></a></h1></div></div>
          <div class="pull-right"><div id="bannerRight"><h1><img class="class java.lang.Object" src="../../images/header-right-ruller.png" alt="Checkstyle" /></h1></div></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2025-04-02</li>
          <li id="projectVersion" class="pull-right"><span class="divider">|</span>Version: 10.23.0</li>
        <li class="pull-right"><a>toTop</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">About</li>
    <li><a href="../../index.html">Checkstyle</a></li>
    <li><a href="../../releasenotes.html">Release Notes</a></li>
    <li><a href="../../consulting.html">Consulting</a></li>
    <li><a href="../../sponsoring.html">Sponsoring</a></li>
   <li class="nav-header">Documentation</li>
    <li><a href="../../config.html"><span class="icon-chevron-down"></span>Configuration</a>
     <ul class="nav nav-list">
      <li><a href="../../property_types.html">Property Types</a></li>
      <li><a href="../../config_system_properties.html">System Properties</a></li>
     </ul></li>
    <li><a href="../../running.html"><span class="icon-chevron-down"></span>Running</a>
     <ul class="nav nav-list">
      <li><a href="../../anttask.html">Ant Task</a></li>
      <li><a href="../../cmdline.html">Command Line</a></li>
     </ul></li>
    <li><a href="../../checks.html"><span class="icon-chevron-down"></span>Checks</a>
     <ul class="nav nav-list">
      <li><a href="../../checks/annotation/index.html"><span class="icon-chevron-down"></span>Annotations</a>
       <ul class="nav nav-list">
        <li class="active"><a>AnnotationLocation</a></li>
        <li><a href="../../checks/annotation/annotationonsameline.html">AnnotationOnSameLine</a></li>
        <li><a href="../../checks/annotation/annotationusestyle.html">AnnotationUseStyle</a></li>
        <li><a href="../../checks/annotation/missingdeprecated.html">MissingDeprecated</a></li>
        <li><a href="../../checks/annotation/missingoverride.html">MissingOverride</a></li>
        <li><a href="../../checks/annotation/packageannotation.html">PackageAnnotation</a></li>
        <li><a href="../../checks/annotation/suppresswarnings.html">SuppressWarnings</a></li>
        <li><a href="../../checks/annotation/suppresswarningsholder.html">SuppressWarningsHolder</a></li>
       </ul></li>
      <li><a href="../../checks/blocks/index.html"><span class="icon-chevron-right"></span>Block Checks</a></li>
      <li><a href="../../checks/design/index.html"><span class="icon-chevron-right"></span>Class Design</a></li>
      <li><a href="../../checks/coding/index.html"><span class="icon-chevron-right"></span>Coding</a></li>
      <li><a href="../../checks/header/index.html"><span class="icon-chevron-right"></span>Headers</a></li>
      <li><a href="../../checks/imports/index.html"><span class="icon-chevron-right"></span>Imports</a></li>
      <li><a href="../../checks/javadoc/index.html"><span class="icon-chevron-right"></span>Javadoc Comments</a></li>
      <li><a href="../../checks/metrics/index.html"><span class="icon-chevron-right"></span>Metrics</a></li>
      <li><a href="../../checks/misc/index.html"><span class="icon-chevron-right"></span>Miscellaneous</a></li>
      <li><a href="../../checks/modifier/index.html"><span class="icon-chevron-right"></span>Modifiers</a></li>
      <li><a href="../../checks/naming/index.html"><span class="icon-chevron-right"></span>Naming Conventions</a></li>
      <li><a href="../../checks/regexp/index.html"><span class="icon-chevron-right"></span>Regexp</a></li>
      <li><a href="../../checks/sizes/index.html"><span class="icon-chevron-right"></span>Size Violations</a></li>
      <li><a href="../../checks/whitespace/index.html"><span class="icon-chevron-right"></span>Whitespace</a></li>
     </ul></li>
    <li><a href="../../filters/index.html"><span class="icon-chevron-right"></span>Filters</a></li>
    <li><a href="../../filefilters/index.html"><span class="icon-chevron-right"></span>File Filters</a></li>
    <li><a href="../../style_configs.html"><span class="icon-chevron-down"></span>Style Configurations</a>
     <ul class="nav nav-list">
      <li><a href="../../google_style.html">Google&apos;s Style</a></li>
      <li><a href="../../sun_style.html">Sun&apos;s Style</a></li>
     </ul></li>
   <li class="nav-header">Developers</li>
    <li><a href="../../extending.html"><span class="icon-chevron-down"></span>Extending Checkstyle</a>
     <ul class="nav nav-list">
      <li><a href="../../writingchecks.html">Writing Checks</a></li>
      <li><a href="../../writingjavadocchecks.html">Writing Javadoc Checks</a></li>
      <li><a href="../../writingfilters.html">Writing Filters</a></li>
      <li><a href="../../writingfilefilters.html">Writing File Filters</a></li>
      <li><a href="../../writinglisteners.html">Writing Listeners</a></li>
     </ul></li>
    <li><a href="../../contributing.html">Contributing</a></li>
    <li><a href="../../beginning_development.html"><span class="icon-chevron-down"></span>Beginning Development</a>
     <ul class="nav nav-list">
      <li><a href="../../eclipse.html">Eclipse IDE</a></li>
      <li><a href="../../netbeans.html">NetBeans IDE</a></li>
      <li><a href="../../idea.html">IntelliJ IDE</a></li>
     </ul></li>
    <li><a href="../../apidocs/index.html">Javadoc</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="../../project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="../../project-reports.html"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://github.com/checkstyle/checkstyle" class="builtBy"><img class="builtBy" src="../../images/github_logo_social_coding_outlined.png" alt="GitHub" /></a>
<a href="https://twitter.com/checkstyle_java/" class="builtBy"><img class="builtBy" src="../../images/twitter_button.png" alt="Twitter" /></a>
<a href="https://stackoverflow.com/questions/tagged/checkstyle" class="builtBy"><img class="builtBy" src="../../images/stackoverflow.jpeg" alt="Stackoverflow" /></a>
<a href="https://groups.google.com/forum/#!forum/checkstyle" class="builtBy"><img class="builtBy" src="../../images/groups.png" alt="GoogleGroups" /></a>
<a href="https://www.ej-technologies.com/products/jprofiler/overview.html" class="builtBy"><img class="builtBy" src="https://www.ej-technologies.com/images/product_banners/jprofiler_medium.png" alt="JProfiler" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">

  
    <section><a id="AnnotationLocation"></a>
<h1>AnnotationLocation</h1>
      
<p>Since Checkstyle 6.0</p>
      <a id="Description"></a><section id="Description"><a id="Description"></a>
<h2>Description</h2>
        
<div>
          Checks location of annotation on language elements.
          By default, Check enforce to locate annotations immediately after documentation block
          and before target element, annotation should be located on separate line from target
          element. This check also verifies that the annotations are on the same indenting level as
          the annotated element if they are not on the same line.
        </div>

        
<p>
          Attention: Elements that cannot have JavaDoc comments like local variables are not in the
          scope of this check even though a token type like <code>VARIABLE_DEF</code> would match
          them.
        </p>

        
<p>
          Attention: Annotations among modifiers are ignored (looks like false-negative)
          as there might be a problem with annotations for return types:
        </p>
        
<pre class="prettyprint"><code>public @Nullable Long getStartTimeOrNull() { ... }</code></pre>

        
<p>
          Such annotations are better to keep close to type.
          Due to limitations, Checkstyle can not examine the target of an annotation.
        </p>

        
<p>
          Example:
        </p>
        
<pre class="prettyprint"><code>
@Override
@Nullable
public String getNameIfPresent() { ... }
        </code></pre>
      </section>

      <a id="Properties"></a><section id="Properties"><a id="Properties"></a>
<h2>Properties</h2>
        
<div class="wrapper">
          
<table class="table table-striped">
            
<tr class="a">
              
<th>name</th>
              
<th>description</th>
              
<th>type</th>
              
<th>default value</th>
              
<th>since</th>
            </tr>
            
<tr class="b">
              
<td>allowSamelineMultipleAnnotations</td>
              
<td>Allow annotation(s) to be located on the same line as target element.</td>
              
<td><a href="../../property_types.html#boolean">boolean</a></td>
              
<td><code>false</code></td>
              
<td>6.0</td>
            </tr>
            
<tr class="a">
              
<td>allowSamelineParameterizedAnnotation</td>
              
<td>Allow one and only parameterized annotation to be located on the same line as target element.</td>
              
<td><a href="../../property_types.html#boolean">boolean</a></td>
              
<td><code>false</code></td>
              
<td>6.4</td>
            </tr>
            
<tr class="b">
              
<td>allowSamelineSingleParameterlessAnnotation</td>
              
<td>Allow single parameterless annotation to be located on the same line as target element.</td>
              
<td><a href="../../property_types.html#boolean">boolean</a></td>
              
<td><code>true</code></td>
              
<td>6.1</td>
            </tr>
            
<tr class="a">
              
<td>tokens</td>
              
<td>tokens to check</td>
              
<td>subset of tokens
                <a href="../../apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html#CLASS_DEF">
                    CLASS_DEF</a>
                , <a href="../../apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html#INTERFACE_DEF">
                    INTERFACE_DEF</a>
                , <a href="../../apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html#PACKAGE_DEF">
                    PACKAGE_DEF</a>
                , <a href="../../apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html#ENUM_CONSTANT_DEF">
                    ENUM_CONSTANT_DEF</a>
                , <a href="../../apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html#ENUM_DEF">
                    ENUM_DEF</a>
                , <a href="../../apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html#METHOD_DEF">
                    METHOD_DEF</a>
                , <a href="../../apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html#CTOR_DEF">
                    CTOR_DEF</a>
                , <a href="../../apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html#VARIABLE_DEF">
                    VARIABLE_DEF</a>
                , <a href="../../apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html#ANNOTATION_DEF">
                    ANNOTATION_DEF</a>
                , <a href="../../apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html#ANNOTATION_FIELD_DEF">
                    ANNOTATION_FIELD_DEF</a>
                , <a href="../../apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html#RECORD_DEF">
                    RECORD_DEF</a>
                , <a href="../../apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html#COMPACT_CTOR_DEF">
                    COMPACT_CTOR_DEF</a>
                  .
              </td>
              
<td>
                <a href="../../apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html#CLASS_DEF">
                    CLASS_DEF</a>
                , <a href="../../apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html#INTERFACE_DEF">
                    INTERFACE_DEF</a>
                , <a href="../../apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html#PACKAGE_DEF">
                    PACKAGE_DEF</a>
                , <a href="../../apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html#ENUM_CONSTANT_DEF">
                    ENUM_CONSTANT_DEF</a>
                , <a href="../../apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html#ENUM_DEF">
                    ENUM_DEF</a>
                , <a href="../../apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html#METHOD_DEF">
                    METHOD_DEF</a>
                , <a href="../../apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html#CTOR_DEF">
                    CTOR_DEF</a>
                , <a href="../../apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html#VARIABLE_DEF">
                    VARIABLE_DEF</a>
                , <a href="../../apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html#RECORD_DEF">
                    RECORD_DEF</a>
                , <a href="../../apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html#COMPACT_CTOR_DEF">
                    COMPACT_CTOR_DEF</a>
                  .
              </td>
              
<td>6.0</td>
            </tr>
          </table>
        </div>
      </section>

      <a id="Examples"></a><section id="Examples"><a id="Examples"></a>
<h2>Examples</h2>
        
<p id="Example1-config">
          To configure the default check to allow one single parameterless annotation on the same
            line:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-xml">
&lt;module name=&quot;Checker&quot;&gt;
  &lt;module name=&quot;TreeWalker&quot;&gt;
    &lt;module name=&quot;AnnotationLocation&quot;/&gt;
  &lt;/module&gt;
&lt;/module&gt;
</code></pre></div>
        
<p id="Example1-code">Example:</p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-java">
class Example1 {
  @Nonnull
  private boolean field1; // ok
  @Override public int hashCode() { return 1; } // ok
  @Nonnull // ok
  private boolean field2;
  @Override // ok
  public boolean equals(Object obj) { return true; }
  @Mock DataLoader loader1; // ok
  @SuppressWarnings(&quot;deprecation&quot;) DataLoader loader2;
  // violation above, 'Annotation 'SuppressWarnings' should be alone on line'
  @SuppressWarnings(&quot;deprecation&quot;) public int foo() { return 1; }
  // violation above, 'Annotation 'SuppressWarnings' should be alone on line'
  @Nonnull @Mock DataLoader loader3;
  // violation above, 'Annotation 'Mock' should be alone on line'
}
</code></pre></div>
        
<p id="Example2-config">
          Use the following configuration to allow multiple annotations on the same line:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-xml">
&lt;module name=&quot;Checker&quot;&gt;
  &lt;module name=&quot;TreeWalker&quot;&gt;
    &lt;module name=&quot;AnnotationLocation&quot;&gt;
      &lt;property name=&quot;allowSamelineSingleParameterlessAnnotation&quot;
                value=&quot;false&quot;/&gt;
      &lt;property name=&quot;allowSamelineParameterizedAnnotation&quot; value=&quot;false&quot;/&gt;
      &lt;property name=&quot;allowSamelineMultipleAnnotations&quot; value=&quot;true&quot;/&gt;
    &lt;/module&gt;
  &lt;/module&gt;
&lt;/module&gt;
</code></pre></div>
        
<p id="Example2-code">Example:</p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-java">
class Example2 {
  @Nonnull
  private boolean field1;
  @Override public int hashCode() { return 1; } // ok
  @Nonnull
  private boolean field2;
  @Override
  public boolean equals(Object obj) { return true; }
  @Mock
  DataLoader loader1;
  @SuppressWarnings(&quot;deprecation&quot;) DataLoader loader;
  @SuppressWarnings(&quot;deprecation&quot;) public int foo() { return 1; } // ok
  @Nonnull @Mock DataLoader loader2;
  // ok above as 'allowSamelineMultipleAnnotations' set to true
}
</code></pre></div>
        
<p id="Example3-config">
          Use the following configuration to allow only one and only parameterized annotation
          on the same line:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-xml">
&lt;module name=&quot;Checker&quot;&gt;
  &lt;module name=&quot;TreeWalker&quot;&gt;
    &lt;module name=&quot;AnnotationLocation&quot;&gt;
      &lt;property name=&quot;allowSamelineMultipleAnnotations&quot; value=&quot;false&quot;/&gt;
      &lt;property name=&quot;allowSamelineSingleParameterlessAnnotation&quot;
                value=&quot;false&quot;/&gt;
      &lt;property name=&quot;allowSamelineParameterizedAnnotation&quot; value=&quot;true&quot;/&gt;
    &lt;/module&gt;
  &lt;/module&gt;
&lt;/module&gt;
</code></pre></div>
        
<p id="Example3-code">Example:</p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-java">
class Example3 {
  // violation below, 'Annotation 'Nonnull' should be alone on line.'
  @Nonnull private boolean field1;
  // violation below, 'Annotation 'Override' should be alone on line.'
  @Override public int hashCode() { return 1; }
  @Nonnull
  private boolean field2;
  @Override
  public boolean equals(Object obj) { return true; }
  @Mock
  DataLoader loader;
  @SuppressWarnings(&quot;deprecation&quot;) DataLoader loader1;
  @SuppressWarnings(&quot;deprecation&quot;) public int foo() { return 1; }
  // violation below, 'Annotation 'Nonnull' should be alone on line.'
  @Nonnull @Mock DataLoader loader2;
  // violation above, 'Annotation 'Mock' should be alone on line.'
}
</code></pre></div>
        
<p id="Example4-config">
          Use the following configuration to only validate annotations on methods to allow one
          single parameterless annotation on the same line:
        </p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-xml">
&lt;module name=&quot;Checker&quot;&gt;
  &lt;module name=&quot;TreeWalker&quot;&gt;
    &lt;module name=&quot;AnnotationLocation&quot;&gt;
      &lt;property name=&quot;tokens&quot; value=&quot;METHOD_DEF&quot;/&gt;
      &lt;property name=&quot;allowSamelineMultipleAnnotations&quot; value=&quot;false&quot;/&gt;
      &lt;property name=&quot;allowSamelineSingleParameterlessAnnotation&quot;
                value=&quot;true&quot;/&gt;
      &lt;property name=&quot;allowSamelineParameterizedAnnotation&quot; value=&quot;false&quot;/&gt;
    &lt;/module&gt;
  &lt;/module&gt;
&lt;/module&gt;
</code></pre></div>
        
<p id="Example4-code">Example:</p>
        
<div class="wrapper">
<pre class="prettyprint"><code class="language-java">
class Example4 {
  @NotNull private boolean field1; // ok, as 'tokens' property set to METHOD_DEF only
  @Override public int hashCode() { return 1; }
  @NotNull
  private boolean field2;
  @Override
  public boolean equals(Object obj) { return true; }
  @Mock
  DataLoader loader1;
  @SuppressWarnings(&quot;deprecation&quot;) DataLoader loader;
  @SuppressWarnings(&quot;deprecation&quot;) public int foo() { return 1; }
  // violation above, 'Annotation 'SuppressWarnings' should be alone on line.'
  @NotNull @Mock DataLoader loader2;
}
</code></pre></div>
      </section>

      <a id="Example_of_Usage"></a><section id="Example_of_Usage"><a id="Example_of_Usage"></a>
<h2>Example of Usage</h2>
        
<ul>
          
<li>
            <a href="https://github.com/search?q=path%3Asrc%2Fmain%2Fresources%20path%3A**%2Fgoogle_checks.xml+repo%3Acheckstyle%2Fcheckstyle+AnnotationLocation" class="externalLink">
            Google Style</a>
          </li>
          
<li>
            <a href="https://github.com/search?q=path%3Aconfig%20path%3A**%2Fcheckstyle-checks.xml+repo%3Acheckstyle%2Fcheckstyle+AnnotationLocation" class="externalLink">
            Checkstyle Style</a>
          </li>
        </ul>
      </section>

      <a id="Violation_Messages"></a><section id="Violation_Messages"><a id="Violation_Messages"></a>
<h2>Violation Messages</h2>
        
<ul>
          
<li>
            <a href="https://github.com/search?q=path%3Asrc%2Fmain%2Fresources%2Fcom%2Fpuppycrawl%2Ftools%2Fcheckstyle%2Fchecks%2Fannotation%20path%3A**%2Fmessages*.properties+repo%3Acheckstyle%2Fcheckstyle+%22annotation.location%22" class="externalLink">
              annotation.location
            </a>
          </li>
          
<li>
            <a href="https://github.com/search?q=path%3Asrc%2Fmain%2Fresources%2Fcom%2Fpuppycrawl%2Ftools%2Fcheckstyle%2Fchecks%2Fannotation%20path%3A**%2Fmessages*.properties+repo%3Acheckstyle%2Fcheckstyle+%22annotation.location.alone%22" class="externalLink">
              annotation.location.alone
            </a>
          </li>
        </ul>
        
<p>
          All messages can be customized if the default message doesn't suit you.
          Please <a href="../../config.html#Custom_messages">
          see the documentation</a> to learn how to.
        </p>
      </section>

      <a id="Package"></a><section id="Package"><a id="Package"></a>
<h2>Package</h2>
        
<p> com.puppycrawl.tools.checkstyle.checks.annotation </p>
      </section>

      <a id="Parent_Module"></a><section id="Parent_Module"><a id="Parent_Module"></a>
<h2>Parent Module</h2>
        
<p>
          <a href="../../config.html#TreeWalker">TreeWalker</a>
        </p>
      </section>
    </section>
  
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Â©      2001â€“2025
</p>
        </div>
      </div>
    </footer>
  </body>
</html>
